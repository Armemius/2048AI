(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();const ln=!1;var ze=Array.isArray,Qe=Array.from,un=Object.defineProperty,le=Object.getOwnPropertyDescriptor,sn=Object.getOwnPropertyDescriptors,fn=Object.prototype,on=Array.prototype,mr=Object.getPrototypeOf;function an(e){return e()}function Be(e){for(var r=0;r<e.length;r++)e[r]()}const V=2,Er=4,Ee=8,Xe=16,$=32,xe=64,qe=128,ue=256,ke=512,P=1024,j=2048,Ae=4096,U=8192,_e=16384,cn=32768,xr=65536,vn=1<<17,_n=1<<19,Ar=1<<20,ae=Symbol("$state"),dn=Symbol("legacy props");function Sr(e){return e===this.v}function hn(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Je(e){return!hn(e,this.v)}function pn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function mn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function En(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function An(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Sn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let de=!1;function Tn(){de=!0}const bn=1,kn=2,On=16,Nn=1,In=2,Cn=4,Dn=8,Rn=16,Pn=2,L=Symbol();function F(e,r){var n={f:0,v:e,reactions:null,equals:Sr,version:0};return n}function je(e,r=!1){var t;const n=F(e);return r||(n.equals=Je),de&&O!==null&&O.l!==null&&((t=O.l).s??(t.s=[])).push(n),n}function oe(e,r=!1){return Mn(je(e,r))}function Mn(e){return S!==null&&S.f&V&&(H===null?zn([e]):H.push(e)),e}function ar(e,r){return I(e,me(()=>w(e))),r}function I(e,r){return S!==null&&lr()&&S.f&(V|Xe)&&(H===null||!H.includes(e))&&Sn(),Tr(e,r)}function Tr(e,r){return e.equals(r)||(e.v=r,e.version=Zr(),br(e,j),lr()&&E!==null&&E.f&P&&!(E.f&$)&&(R!==null&&R.includes(e)?(Y(E,j),Pe(E)):J===null?Qn([e]):J.push(e))),r}function br(e,r){var n=e.reactions;if(n!==null)for(var t=lr(),l=n.length,u=0;u<l;u++){var o=n[u],d=o.f;d&j||!t&&o===E||(Y(o,r),d&(P|ue)&&(d&V?br(o,Ae):Pe(o)))}}let kr=!1;function ie(e,r=null,n){if(typeof e!="object"||e===null||ae in e)return e;const t=mr(e);if(t!==fn&&t!==on)return e;var l=new Map,u=ze(e),o=F(0);u&&l.set("length",F(e.length));var d;return new Proxy(e,{defineProperty(a,v,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&En();var c=l.get(v);return c===void 0?(c=F(_.value),l.set(v,c)):I(c,ie(_.value,d)),!0},deleteProperty(a,v){var _=l.get(v);if(_===void 0)v in a&&l.set(v,F(L));else{if(u&&typeof v=="string"){var c=l.get("length"),h=Number(v);Number.isInteger(h)&&h<c.v&&I(c,h)}I(_,L),cr(o)}return!0},get(a,v,_){var y;if(v===ae)return e;var c=l.get(v),h=v in a;if(c===void 0&&(!h||(y=le(a,v))!=null&&y.writable)&&(c=F(ie(h?a[v]:L,d)),l.set(v,c)),c!==void 0){var p=w(c);return p===L?void 0:p}return Reflect.get(a,v,_)},getOwnPropertyDescriptor(a,v){var _=Reflect.getOwnPropertyDescriptor(a,v);if(_&&"value"in _){var c=l.get(v);c&&(_.value=w(c))}else if(_===void 0){var h=l.get(v),p=h==null?void 0:h.v;if(h!==void 0&&p!==L)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return _},has(a,v){var p;if(v===ae)return!0;var _=l.get(v),c=_!==void 0&&_.v!==L||Reflect.has(a,v);if(_!==void 0||E!==null&&(!c||(p=le(a,v))!=null&&p.writable)){_===void 0&&(_=F(c?ie(a[v],d):L),l.set(v,_));var h=w(_);if(h===L)return!1}return c},set(a,v,_,c){var b;var h=l.get(v),p=v in a;if(u&&v==="length")for(var y=_;y<h.v;y+=1){var A=l.get(y+"");A!==void 0?I(A,L):y in a&&(A=F(L),l.set(y+"",A))}h===void 0?(!p||(b=le(a,v))!=null&&b.writable)&&(h=F(void 0),I(h,ie(_,d)),l.set(v,h)):(p=h.v!==L,I(h,ie(_,d)));var T=Reflect.getOwnPropertyDescriptor(a,v);if(T!=null&&T.set&&T.set.call(c,_),!p){if(u&&typeof v=="string"){var D=l.get("length"),x=Number(v);Number.isInteger(x)&&x>=D.v&&I(D,x+1)}cr(o)}return!0},ownKeys(a){w(o);var v=Reflect.ownKeys(a).filter(h=>{var p=l.get(h);return p===void 0||p.v!==L});for(var[_,c]of l)c.v!==L&&!(_ in a)&&v.push(_);return v},setPrototypeOf(){xn()}})}function cr(e,r=1){I(e,e.v+r)}var Fe,Or,Nr;function Ln(){if(Fe===void 0){Fe=window;var e=Element.prototype,r=Node.prototype;Or=le(r,"firstChild").get,Nr=le(r,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Ir(e=""){return document.createTextNode(e)}function ge(e){return Or.call(e)}function Ce(e){return Nr.call(e)}function q(e,r){return ge(e)}function Bn(e,r){{var n=ge(e);return n instanceof Comment&&n.data===""?Ce(n):n}}function Q(e,r=1,n=!1){let t=e;for(;r--;)t=Ce(t);return t}function qn(e){e.textContent=""}function Oe(e){var r=V|j;E===null?r|=ue:E.f|=Ar;var n=S!==null&&S.f&V?S:null;const t={children:null,ctx:O,deps:null,equals:Sr,f:r,fn:e,reactions:null,v:null,version:0,parent:n??E};return n!==null&&(n.children??(n.children=[])).push(t),t}function Fn(e){const r=Oe(e);return r.equals=Je,r}function Cr(e){var r=e.children;if(r!==null){e.children=null;for(var n=0;n<r.length;n+=1){var t=r[n];t.f&V?er(t):ee(t)}}}function Vn(e){for(var r=e.parent;r!==null;){if(!(r.f&V))return r;r=r.parent}return null}function Dr(e){var r,n=E;K(Vn(e));try{Cr(e),r=Gr(e)}finally{K(n)}return r}function Rr(e){var r=Dr(e),n=(te||e.f&ue)&&e.deps!==null?Ae:P;Y(e,n),e.equals(r)||(e.v=r,e.version=Zr())}function er(e){Cr(e),we(e,0),Y(e,_e),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Pr(e){E===null&&S===null&&gn(),S!==null&&S.f&ue&&yn(),tr&&pn()}function $n(e,r){var n=r.last;n===null?r.last=r.first=e:(n.next=e,e.prev=n,r.last=e)}function he(e,r,n,t=!0){var l=(e&xe)!==0,u=E,o={ctx:O,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|j,first:null,fn:r,last:null,next:null,parent:l?null:u,prev:null,teardown:null,transitions:null,version:0};if(n){var d=ce;try{vr(!0),Re(o),o.f|=cn}catch(_){throw ee(o),_}finally{vr(d)}}else r!==null&&Pe(o);var a=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Ar)===0;if(!a&&!l&&t&&(u!==null&&$n(o,u),S!==null&&S.f&V)){var v=S;(v.children??(v.children=[])).push(o)}return o}function Mr(e){const r=he(Ee,null,!1);return Y(r,P),r.teardown=e,r}function Ve(e){Pr();var r=E!==null&&(E.f&$)!==0&&O!==null&&!O.m;if(r){var n=O;(n.e??(n.e=[])).push({fn:e,effect:E,reaction:S})}else{var t=Lr(e);return t}}function Un(e){return Pr(),Kn(e)}function Hn(e){const r=he(xe,e,!0);return(n={})=>new Promise(t=>{n.outro?Ur(r,()=>{ee(r),t(void 0)}):(ee(r),t(void 0))})}function Lr(e){return he(Er,e,!1)}function Kn(e){return he(Ee,e,!0)}function $e(e){return Br(e)}function Br(e,r=0){return he(Ee|Xe|r,e,!0)}function rr(e,r=!0){return he(Ee|$,e,!0,r)}function qr(e){var r=e.teardown;if(r!==null){const n=tr,t=S;_r(!0),re(null);try{r.call(null)}finally{_r(n),re(t)}}}function Fr(e){var r=e.deriveds;if(r!==null){e.deriveds=null;for(var n=0;n<r.length;n+=1)er(r[n])}}function Vr(e,r=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var t=n.next;ee(n,r),n=t}}function Yn(e){for(var r=e.first;r!==null;){var n=r.next;r.f&$||ee(r),r=n}}function ee(e,r=!0){var n=!1;if((r||e.f&_n)&&e.nodes_start!==null){for(var t=e.nodes_start,l=e.nodes_end;t!==null;){var u=t===l?null:Ce(t);t.remove(),t=u}n=!0}Vr(e,r&&!n),Fr(e),we(e,0),Y(e,_e);var o=e.transitions;if(o!==null)for(const a of o)a.stop();qr(e);var d=e.parent;d!==null&&d.first!==null&&$r(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function $r(e){var r=e.parent,n=e.prev,t=e.next;n!==null&&(n.next=t),t!==null&&(t.prev=n),r!==null&&(r.first===e&&(r.first=t),r.last===e&&(r.last=n))}function Ur(e,r){var n=[];nr(e,n,!0),Hr(n,()=>{ee(e),r&&r()})}function Hr(e,r){var n=e.length;if(n>0){var t=()=>--n||r();for(var l of e)l.out(t)}else r()}function nr(e,r,n){if(!(e.f&U)){if(e.f^=U,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&r.push(o);for(var t=e.first;t!==null;){var l=t.next,u=(t.f&xr)!==0||(t.f&$)!==0;nr(t,r,u?n:!1),t=l}}}function Kr(e){Yr(e,!0)}function Yr(e,r){if(e.f&U){Se(e)&&Re(e),e.f^=U;for(var n=e.first;n!==null;){var t=n.next,l=(n.f&xr)!==0||(n.f&$)!==0;Yr(n,l?r:!1),n=t}if(e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&u.in()}}let Ue=!1,He=[];function Wn(){Ue=!1;const e=He.slice();He=[],Be(e)}function Zn(e){Ue||(Ue=!0,queueMicrotask(Wn)),He.push(e)}function Gn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let be=!1,Ne=!1,Ie=null,ce=!1,tr=!1;function vr(e){ce=e}function _r(e){tr=e}let Ke=[],ye=0;let S=null;function re(e){S=e}let E=null;function K(e){E=e}let H=null;function zn(e){H=e}let R=null,B=0,J=null;function Qn(e){J=e}let Wr=1,te=!1,O=null;function Zr(){return++Wr}function lr(){return!de||O!==null&&O.l===null}function Se(e){var o,d;var r=e.f;if(r&j)return!0;if(r&Ae){var n=e.deps,t=(r&ue)!==0;if(n!==null){var l;if(r&ke){for(l=0;l<n.length;l++)((o=n[l]).reactions??(o.reactions=[])).push(e);e.f^=ke}for(l=0;l<n.length;l++){var u=n[l];if(Se(u)&&Rr(u),t&&E!==null&&!te&&!((d=u==null?void 0:u.reactions)!=null&&d.includes(e))&&(u.reactions??(u.reactions=[])).push(e),u.version>e.version)return!0}}(!t||E!==null&&!te)&&Y(e,P)}return!1}function Xn(e,r){for(var n=r;n!==null;){if(n.f&qe)try{n.fn(e);return}catch{n.f^=qe}n=n.parent}throw be=!1,e}function Jn(e){return(e.f&_e)===0&&(e.parent===null||(e.parent.f&qe)===0)}function De(e,r,n,t){if(be){if(n===null&&(be=!1),Jn(r))throw e;return}n!==null&&(be=!0);{Xn(e,r);return}}function Gr(e){var h;var r=R,n=B,t=J,l=S,u=te,o=H,d=O,a=e.f;R=null,B=0,J=null,S=a&($|xe)?null:e,te=!ce&&(a&ue)!==0,H=null,O=e.ctx;try{var v=(0,e.fn)(),_=e.deps;if(R!==null){var c;if(we(e,B),_!==null&&B>0)for(_.length=B+R.length,c=0;c<R.length;c++)_[B+c]=R[c];else e.deps=_=R;if(!te)for(c=B;c<_.length;c++)((h=_[c]).reactions??(h.reactions=[])).push(e)}else _!==null&&B<_.length&&(we(e,B),_.length=B);return v}finally{R=r,B=n,J=t,S=l,te=u,H=o,O=d}}function jn(e,r){let n=r.reactions;if(n!==null){var t=n.indexOf(e);if(t!==-1){var l=n.length-1;l===0?n=r.reactions=null:(n[t]=n[l],n.pop())}}n===null&&r.f&V&&(R===null||!R.includes(r))&&(Y(r,Ae),r.f&(ue|ke)||(r.f^=ke),we(r,0))}function we(e,r){var n=e.deps;if(n!==null)for(var t=r;t<n.length;t++)jn(e,n[t])}function Re(e){var r=e.f;if(!(r&_e)){Y(e,P);var n=E,t=O;E=e;try{r&Xe?Yn(e):Vr(e),Fr(e),qr(e);var l=Gr(e);e.teardown=typeof l=="function"?l:null,e.version=Wr}catch(u){De(u,e,n,t||e.ctx)}finally{E=n}}}function et(){if(ye>1e3){ye=0;try{wn()}catch(e){if(Ie!==null)De(e,Ie,null);else throw e}}ye++}function rt(e){var r=e.length;if(r!==0){et();var n=ce;ce=!0;try{for(var t=0;t<r;t++){var l=e[t];l.f&P||(l.f^=P);var u=[];zr(l,u),nt(u)}}finally{ce=n}}}function nt(e){var r=e.length;if(r!==0)for(var n=0;n<r;n++){var t=e[n];if(!(t.f&(_e|U)))try{Se(t)&&(Re(t),t.deps===null&&t.first===null&&t.nodes_start===null&&(t.teardown===null?$r(t):t.fn=null))}catch(l){De(l,t,null,t.ctx)}}}function tt(){if(Ne=!1,ye>1001)return;const e=Ke;Ke=[],rt(e),Ne||(ye=0,Ie=null)}function Pe(e){Ne||(Ne=!0,queueMicrotask(tt)),Ie=e;for(var r=e;r.parent!==null;){r=r.parent;var n=r.f;if(n&(xe|$)){if(!(n&P))return;r.f^=P}}Ke.push(r)}function zr(e,r){var n=e.first,t=[];e:for(;n!==null;){var l=n.f,u=(l&$)!==0,o=u&&(l&P)!==0,d=n.next;if(!o&&!(l&U))if(l&Ee){if(u)n.f^=P;else try{Se(n)&&Re(n)}catch(c){De(c,n,null,n.ctx)}var a=n.first;if(a!==null){n=a;continue}}else l&Er&&t.push(n);if(d===null){let c=n.parent;for(;c!==null;){if(e===c)break e;var v=c.next;if(v!==null){n=v;continue e}c=c.parent}}n=d}for(var _=0;_<t.length;_++)a=t[_],r.push(a),zr(a,r)}function w(e){var _;var r=e.f,n=(r&V)!==0;if(n&&r&_e){var t=Dr(e);return er(e),t}if(S!==null){H!==null&&H.includes(e)&&An();var l=S.deps;R===null&&l!==null&&l[B]===e?B++:R===null?R=[e]:R.push(e),J!==null&&E!==null&&E.f&P&&!(E.f&$)&&J.includes(e)&&(Y(E,j),Pe(E))}else if(n&&e.deps===null)for(var u=e,o=u.parent,d=u;o!==null;)if(o.f&V){var a=o;d=a,o=a.parent}else{var v=o;(_=v.deriveds)!=null&&_.includes(d)||(v.deriveds??(v.deriveds=[])).push(d);break}return n&&(u=e,Se(u)&&Rr(u)),e.v}function me(e){const r=S;try{return S=null,e()}finally{S=r}}const lt=~(j|Ae|P);function Y(e,r){e.f=e.f&lt|r}function Qr(e,r=!1,n){O={p:O,c:null,e:null,m:!1,s:e,x:null,l:null},de&&!r&&(O.l={s:null,u:null,r1:[],r2:F(!1)})}function Xr(e){const r=O;if(r!==null){e!==void 0&&(r.x=e);const o=r.e;if(o!==null){var n=E,t=S;r.e=null;try{for(var l=0;l<o.length;l++){var u=o[l];K(u.effect),re(u.reaction),Lr(u.fn)}}finally{K(n),re(t)}}O=r.p,r.m=!0}return e||{}}function ut(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ae in e)Ye(e);else if(!Array.isArray(e))for(let r in e){const n=e[r];typeof n=="object"&&n&&ae in n&&Ye(n)}}}function Ye(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let t in e)try{Ye(e[t],r)}catch{}const n=mr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const t=sn(n);for(let l in t){const u=t[l].get;if(u)try{u.call(e)}catch{}}}}}const st=["touchstart","touchmove"];function ft(e){return st.includes(e)}function it(e){var r=S,n=E;re(null),K(null);try{return e()}finally{re(r),K(n)}}const ot=new Set,dr=new Set;function at(e,r,n,t){function l(u){if(t.capture||pe.call(r,u),!u.cancelBubble)return it(()=>n.call(this,u))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Zn(()=>{r.addEventListener(e,l,t)}):r.addEventListener(e,l,t),l}function We(e,r,n,t,l){var u={capture:t,passive:l},o=at(e,r,n,u);(r===document.body||r===window||r===document)&&Mr(()=>{r.removeEventListener(e,o,u)})}function pe(e){var x;var r=this,n=r.ownerDocument,t=e.type,l=((x=e.composedPath)==null?void 0:x.call(e))||[],u=l[0]||e.target,o=0,d=e.__root;if(d){var a=l.indexOf(d);if(a!==-1&&(r===document||r===window)){e.__root=r;return}var v=l.indexOf(r);if(v===-1)return;a<=v&&(o=a)}if(u=l[o]||e.target,u!==r){un(e,"currentTarget",{configurable:!0,get(){return u||n}});var _=S,c=E;re(null),K(null);try{for(var h,p=[];u!==null;){var y=u.assignedSlot||u.parentNode||u.host||null;try{var A=u["__"+t];if(A!==void 0&&!u.disabled)if(ze(A)){var[T,...D]=A;T.apply(u,[e,...D])}else A.call(u,e)}catch(b){h?p.push(b):h=b}if(e.cancelBubble||y===r||y===null)break;u=y}if(h){for(let b of p)queueMicrotask(()=>{throw b});throw h}}finally{e.__root=r,delete e.currentTarget,re(_),K(c)}}}function Jr(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function ur(e,r){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=r)}function sr(e,r){var n=(r&Pn)!==0,t,l=!e.startsWith("<!>");return()=>{t===void 0&&(t=Jr(l?e:"<!>"+e),t=ge(t));var u=n?document.importNode(t,!0):t.cloneNode(!0);return ur(u,u),u}}function jr(e,r,n="svg"){var t=!e.startsWith("<!>"),l=`<${n}>${t?e:"<!>"+e}</${n}>`,u;return()=>{if(!u){var o=Jr(l),d=ge(o);u=ge(d)}var a=u.cloneNode(!0);return ur(a,a),a}}function ct(){var e=document.createDocumentFragment(),r=document.createComment(""),n=Ir();return e.append(r,n),ur(r,n),e}function ve(e,r){e!==null&&e.before(r)}function Ze(e,r){var n=r==null?"":typeof r=="object"?r+"":r;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function vt(e,r){return _t(e,r)}const fe=new Map;function _t(e,{target:r,anchor:n,props:t={},events:l,context:u,intro:o=!0}){Ln();var d=new Set,a=c=>{for(var h=0;h<c.length;h++){var p=c[h];if(!d.has(p)){d.add(p);var y=ft(p);r.addEventListener(p,pe,{passive:y});var A=fe.get(p);A===void 0?(document.addEventListener(p,pe,{passive:y}),fe.set(p,1)):fe.set(p,A+1)}}};a(Qe(ot)),dr.add(a);var v=void 0,_=Hn(()=>{var c=n??r.appendChild(Ir());return rr(()=>{if(u){Qr({});var h=O;h.c=u}l&&(t.$$events=l),v=e(c,t)||{},u&&Xr()}),()=>{var y;for(var h of d){r.removeEventListener(h,pe);var p=fe.get(h);--p===0?(document.removeEventListener(h,pe),fe.delete(h)):fe.set(h,p)}dr.delete(a),c!==n&&((y=c.parentNode)==null||y.removeChild(c))}});return dt.set(v,_),v}let dt=new WeakMap;function hr(e,r){return r}function ht(e,r,n,t){for(var l=[],u=r.length,o=0;o<u;o++)nr(r[o].e,l,!0);var d=u>0&&l.length===0&&n!==null;if(d){var a=n.parentNode;qn(a),a.append(n),t.clear(),X(e,r[0].prev,r[u-1].next)}Hr(l,()=>{for(var v=0;v<u;v++){var _=r[v];d||(t.delete(_.k),X(e,_.prev,_.next)),ee(_.e,!d)}})}function pr(e,r,n,t,l,u=null){var o=e,d={flags:r,items:new Map,first:null},a=null,v=!1;Br(()=>{var _=n(),c=ze(_)?_:_==null?[]:Qe(_),h=c.length;if(!(v&&h===0)){v=h===0;{var p=S;pt(c,d,o,l,r,(p.f&U)!==0,t)}u!==null&&(h===0?a?Kr(a):a=rr(()=>u(o)):a!==null&&Ur(a,()=>{a=null})),n()}})}function pt(e,r,n,t,l,u,o,d){var a=e.length,v=r.items,_=r.first,c=_,h,p=null,y=[],A=[],T,D,x,b;for(b=0;b<a;b+=1){if(T=e[b],D=o(T,b),x=v.get(D),x===void 0){var W=c?c.e.nodes_start:n;p=gt(W,r,p,p===null?r.first:p.next,T,D,b,t,l),v.set(D,p),y=[],A=[],c=p.next;continue}if(yt(x,T,b),x.e.f&U&&Kr(x.e),x!==c){if(h!==void 0&&h.has(x)){if(y.length<A.length){var C=A[0],N;p=C.prev;var Z=y[0],k=y[y.length-1];for(N=0;N<y.length;N+=1)yr(y[N],C,n);for(N=0;N<A.length;N+=1)h.delete(A[N]);X(r,Z.prev,k.next),X(r,p,Z),X(r,k,C),c=C,p=k,b-=1,y=[],A=[]}else h.delete(x),yr(x,c,n),X(r,x.prev,x.next),X(r,x,p===null?r.first:p.next),X(r,p,x),p=x;continue}for(y=[],A=[];c!==null&&c.k!==D;)(u||!(c.e.f&U))&&(h??(h=new Set)).add(c),A.push(c),c=c.next;if(c===null)continue;x=c}y.push(x),p=x,c=x.next}if(c!==null||h!==void 0){for(var M=h===void 0?[]:Qe(h);c!==null;)(u||!(c.e.f&U))&&M.push(c),c=c.next;var G=M.length;if(G>0){var Me=null;ht(r,M,Me,v)}}E.first=r.first&&r.first.e,E.last=p&&p.e}function yt(e,r,n,t){Tr(e.v,r),e.i=n}function gt(e,r,n,t,l,u,o,d,a,v){var _=(a&bn)!==0,c=(a&On)===0,h=_?c?je(l):F(l):l,p=a&kn?F(o):o,y={i:p,v:h,k:u,a:null,e:null,prev:n,next:t};try{return y.e=rr(()=>d(e,h,p),kr),y.e.prev=n&&n.e,y.e.next=t&&t.e,n===null?r.first=y:(n.next=y,n.e.next=y.e),t!==null&&(t.prev=y,t.e.prev=y.e),y}finally{}}function yr(e,r,n){for(var t=e.next?e.next.e.nodes_start:n,l=r?r.e.nodes_start:n,u=e.e.nodes_start;u!==t;){var o=Ce(u);l.before(u),u=o}}function X(e,r,n){r===null?e.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}function Ge(e,r,n){var t=e.__className,l=wt(r);(t!==l||kr)&&(r==null&&!n?e.removeAttribute("class"):e.className=l,e.__className=l)}function wt(e,r){return(e??"")+""}function mt(e,r,n){var t=le(e,r);t&&t.set&&(e[r]=n,Mr(()=>{e[r]=null}))}function Et(e=!1){const r=O,n=r.l.u;if(!n)return;let t=()=>ut(r.s);if(e){let l=0,u={};const o=Oe(()=>{let d=!1;const a=r.s;for(const v in a)a[v]!==u[v]&&(u[v]=a[v],d=!0);return d&&l++,l});t=()=>w(o)}n.b.length&&Un(()=>{gr(r,t),Be(n.b)}),Ve(()=>{const l=me(()=>n.m.map(an));return()=>{for(const u of l)typeof u=="function"&&u()}}),n.a.length&&Ve(()=>{gr(r,t),Be(n.a)})}function gr(e,r){if(e.l.s)for(const n of e.l.s)w(n);r()}let Te=!1;function xt(e){var r=Te;try{return Te=!1,[e(),Te]}finally{Te=r}}function wr(e){for(var r=E,n=E;r!==null&&!(r.f&($|xe));)r=r.parent;try{return K(r),e()}finally{K(n)}}function Le(e,r,n,t){var Z;var l=(n&Nn)!==0,u=!de||(n&In)!==0,o=(n&Dn)!==0,d=(n&Rn)!==0,a=!1,v;o?[v,a]=xt(()=>e[r]):v=e[r];var _=ae in e||dn in e,c=((Z=le(e,r))==null?void 0:Z.set)??(_&&o&&r in e?k=>e[r]=k:void 0),h=t,p=!0,y=!1,A=()=>(y=!0,p&&(p=!1,d?h=me(t):h=t),h);v===void 0&&t!==void 0&&(c&&u&&mn(),v=A(),c&&c(v));var T;if(u)T=()=>{var k=e[r];return k===void 0?A():(p=!0,y=!1,k)};else{var D=wr(()=>(l?Oe:Fn)(()=>e[r]));D.f|=vn,T=()=>{var k=w(D);return k!==void 0&&(h=void 0),k===void 0?h:k}}if(!(n&Cn))return T;if(c){var x=e.$$legacy;return function(k,M){return arguments.length>0?((!u||!M||x||a)&&c(M?T():k),k):T()}}var b=!1,W=!1,C=je(v),N=wr(()=>Oe(()=>{var k=T(),M=w(C);return b?(b=!1,W=!0,M):(W=!1,C.v=k)}));return l||(N.equals=Je),function(k,M){if(arguments.length>0){const G=M?w(N):u&&o?ie(k):k;return N.equals(G)||(b=!0,I(C,G),y&&h!==void 0&&(h=G),me(()=>w(N))),k}return w(N)}}function At(e){O===null&&Gn(),de&&O.l!==null?St(O).m.push(e):Ve(()=>{const r=me(e);if(typeof r=="function")return r})}function St(e){var r=e.l;return r.u??(r.u={a:[],b:[],m:[]})}const Tt="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tt);Tn();var bt=sr("<div> </div>"),kt=sr('<div class="board svelte-1vyk1ej"><!> <div>Игра окончена!</div></div>');function Ot(e,r){Qr(r,!1);let n=Le(r,"score",12,0),t=Le(r,"best",12,0),l=Le(r,"ai",8,!1),u=oe(!1),o=[],d=oe();const a=4,v="best_score",_=()=>{if(o.length)for(;o.shift(););},c=i=>{o=[],I(d,i)},h=i=>btoa(String(i<<7^3735928559)),p=i=>(Number(atob(i))^3735928559)>>7,y=()=>{localStorage.setItem(v,h(t()))},A=()=>{let i=localStorage.getItem(v);t(i?p(i):0)},T=()=>{n(0),I(d,new Array);for(let i=0;i<a;++i){ar(d,w(d)[i]=new Array);for(let s=0;s<a;++s)ar(d,w(d)[i][s]=null)}N(w(d)),N(w(d)),I(u,!1),o=[]};At(()=>{A(),T(),setInterval(()=>{if(!l()||w(u))return;let i=Math.random();i>.75?D(w(d)):i>.5?x(w(d)):i>.25?b(w(d)):W(w(d)),N(w(d)),I(u,!fr(w(d))),o=[],I(d,[...w(d)])},50)});const D=i=>{for(let s=0;s<a;++s)for(let f=0;f<a;++f)o.push(...Z(i,s,f))},x=i=>{for(let s=a-1;s>=0;--s)for(let f=0;f<a;++f)o.push(...k(i,s,f))},b=i=>{for(let s=0;s<a;++s)for(let f=0;f<a;++f)o.push(...M(i,f,s))},W=i=>{for(let s=a-1;s>=0;--s)for(let f=0;f<a;++f)o.push(...G(i,f,s))},C=i=>{const s=[];for(let f=0;f<a;++f)s[f]=[...i[f]];return s},N=i=>{const s=[];for(let z=0;z<a;++z)for(let se=0;se<a;++se)i[z][se]||s.push([z,se]);if(!s.length)return!1;const f=s.length*Math.random()|0;let m=Math.random()>.9?4:2,g=s[f][0],ne=s[f][1];return i[g][ne]=m,o.push({type:"create",from:{x:g,y:ne,value:null},to:{x:g,y:ne,value:m}}),!0},Z=(i,s,f,m)=>{if(!i[s][f]||s<=0)return[];m||(m={type:"move",from:{x:s,y:f,value:i[s][f]},to:{x:s,y:f,value:i[s][f]}});const g=i[s][f];return i[s-1][f]===null?(i[s][f]=null,i[s-1][f]=g,m.to={x:s-1,y:f,value:g},Z(i,s-1,f,m)):i[s-1][f]===g?(i[s][f]=null,n(n()+g*2),i[s-1][f]=g*2,m.to={x:s-1,y:f,value:g},[m,{type:"upgrade",from:{x:s-1,y:f,value:g},to:{x:s-1,y:f,value:g*2}}]):[m]},k=(i,s,f,m)=>{if(!i[s][f]||s>=a-1)return[];m||(m={type:"move",from:{x:s,y:f,value:i[s][f]},to:{x:s,y:f,value:i[s][f]}});const g=i[s][f];return i[s+1][f]===null?(i[s][f]=null,i[s+1][f]=g,m.to={x:s+1,y:f,value:g},k(i,s+1,f,m)):i[s+1][f]===g?(i[s][f]=null,n(n()+g*2),i[s+1][f]=g*2,m.to={x:s+1,y:f,value:g},[m,{type:"upgrade",from:{x:s+1,y:f,value:g},to:{x:s+1,y:f,value:g*2}}]):[m]},M=(i,s,f,m)=>{if(!i[s][f]||f<=0)return[];m||(m={type:"move",from:{x:s,y:f,value:i[s][f]},to:{x:s,y:f,value:i[s][f]}});const g=i[s][f];return i[s][f-1]===null?(i[s][f]=null,i[s][f-1]=g,m.to={x:s,y:f-1,value:g},M(i,s,f-1,m)):i[s][f-1]===g?(i[s][f]=null,n(n()+g*2),i[s][f-1]=g*2,m.to={x:s,y:f-1,value:g},[m,{type:"upgrade",from:{x:s,y:f-1,value:g},to:{x:s,y:f-1,value:g*2}}]):[m]},G=(i,s,f,m)=>{if(!i[s][f]||f>=a-1)return[];m||(m={type:"move",from:{x:s,y:f,value:i[s][f]},to:{x:s,y:f,value:i[s][f]}});const g=i[s][f];return i[s][f+1]===null?(i[s][f]=null,i[s][f+1]=g,m.to={x:s,y:f+1,value:g},G(i,s,f+1,m)):i[s][f+1]===g?(i[s][f]=null,n(n()+g*2),i[s][f+1]=g*2,m.to={x:s,y:f+1,value:g},[m,{type:"upgrade",from:{x:s,y:f+1,value:g},to:{x:s,y:f+1,value:g*2}}]):[m]},Me=i=>i==="Enter"&&w(u)?(T(),!0):!1,en=(i,s)=>{if(i==="ArrowUp"||i==="KeyW")D(s);else if(i==="ArrowDown"||i==="KeyS")x(s);else if(i==="ArrowLeft"||i==="KeyA")b(s);else if(i==="ArrowRight"||i==="KeyD")W(s);else return!1;return o=o.filter(f=>f.type!=="move"||f.type==="move"&&(f.from.x!==f.to.x||f.from.y!==f.to.y)),!0},rn=(i,s,f)=>i[s][f]===void 0?!1:i[s][f]===null||s>0&&i[s-1][f]===i[s][f]||s<a-1&&i[s+1][f]===i[s][f]||f>0&&i[s][f-1]===i[s][f]||f<a-1&&i[s][f+1]===i[s][f],fr=i=>{let s=!1;for(let f=0;f<a;++f)for(let m=0;m<a;++m)s||(s=rn(i,f,m));return s},nn=i=>{if(Me(i.code)||l())return;const s=C(w(d));en(i.code,s)&&(N(s),I(u,!fr(s))),console.log([...o]),_(),c(s),n()>t()&&(t(n()),y())};Et();var ir=kt();We("keydown",Fe,nn);var or=q(ir);pr(or,1,()=>w(d),hr,(i,s)=>{var f=ct(),m=Bn(f);pr(m,1,()=>w(s),hr,(g,ne)=>{var z=bt(),se=q(z);$e(()=>{Ge(z,`${`board-cell ${w(ne)?`cell-${w(ne)}`:""}`??""} svelte-1vyk1ej`),Ze(se,w(ne)??"")}),ve(g,z)}),ve(i,f)});var tn=Q(or,2);return $e(()=>Ge(tn,`${`msg-container ${w(u)?"active":"hidden"}`??""} svelte-1vyk1ej`)),ve(e,ir),mt(r,"resetBoard",T),Xr({resetBoard:T})}var Nt=jr('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><g fill="none" stroke="#776E65" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M15.5 13a3.5 3.5 0 0 0-3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1-7 0v-1.8"></path><path d="M17.5 16a3.5 3.5 0 0 0 0-7H17"></path><path d="M19 9.3V6.5a3.5 3.5 0 0 0-7 0M6.5 16a3.5 3.5 0 0 1 0-7H7"></path><path d="M5 9.3V6.5a3.5 3.5 0 0 1 7 0v10"></path></g></svg>');function It(e){var r=Nt();ve(e,r)}var Ct=jr('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path fill="#776E65" d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2v2a8 8 0 1 1-5.135 1.865L9 8V2H3l2.446 2.447A9.98 9.98 0 0 0 2 12"></path></svg>');function Dt(e){var r=Ct();ve(e,r)}var Rt=sr('<main class="svelte-j0us8p"><div class="title svelte-j0us8p"><div class="header svelte-j0us8p"><h1>2048</h1></div> <div class="icon-container svelte-j0us8p"><button class="icon svelte-j0us8p"><!></button> <button><!></button></div> <div class="score-container svelte-j0us8p"><section class="score svelte-j0us8p"><div class="svelte-j0us8p">Счёт</div> <div class="svelte-j0us8p"> </div></section> <section class="score svelte-j0us8p"><div class="svelte-j0us8p">Лучший</div> <div class="svelte-j0us8p"> </div></section></div></div> <!></main>');function Pt(e){let r=oe(0),n=oe(0),t=oe(!1),l=oe();const u=()=>{I(t,!w(t))};var o=Rt(),d=q(o),a=Q(q(d),2),v=q(a),_=q(v);Dt(_);var c=Q(v,2),h=q(c);It(h);var p=Q(a,2),y=q(p),A=Q(q(y),2),T=q(A),D=Q(y,2),x=Q(q(D),2),b=q(x),W=Q(d,2);Ot(W,{get score(){return w(r)},set score(C){I(r,C)},get best(){return w(n)},set best(C){I(n,C)},get resetBoard(){return w(l)},set resetBoard(C){I(l,C)},get ai(){return w(t)},set ai(C){I(t,C)},$$legacy:!0}),$e(()=>{Ge(c,`${`icon ${w(t)?"active":""}`??""} svelte-j0us8p`),Ze(T,w(r)),Ze(b,w(n))}),We("click",v,function(...C){var N;(N=w(l))==null||N.apply(this,C)}),We("click",c,u),ve(e,o)}vt(Pt,{target:document.getElementById("app")});
