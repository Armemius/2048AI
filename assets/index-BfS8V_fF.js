(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const v of i.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&t(v)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const En=!1;var ir=Array.isArray,or=Array.from,xn=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyDescriptors,Sn=Object.prototype,Tn=Array.prototype,qr=Object.getPrototypeOf;function Cn(e){return e()}function Xe(e){for(var r=0;r<e.length;r++)e[r]()}const H=2,Fr=4,Ne=8,ar=16,K=32,Oe=64,Je=128,ae=256,$e=512,q=1024,ne=2048,De=4096,Y=8192,ye=16384,Nn=32768,$r=65536,On=1<<17,Dn=1<<19,Vr=1<<20,oe=Symbol("$state"),In=Symbol("legacy props");function Ur(e){return e===this.v}function Rn(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function cr(e){return!Rn(e,this.v)}function kn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Mn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ln(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Pn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function qn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function $n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ge=!1;function Vn(){ge=!0}const vr=1,_r=2,Hr=4,Un=8,Hn=16,Kn=1,Yn=2,Wn=4,zn=8,Zn=16,Gn=2,F=Symbol();function U(e,r){var n={f:0,v:e,reactions:null,equals:Ur,version:0};return n}function dr(e,r=!1){var t;const n=U(e);return r||(n.equals=cr),ge&&N!==null&&N.l!==null&&((t=N.l).s??(t.s=[])).push(n),n}function se(e,r=!1){return Qn(dr(e,r))}function Qn(e){return T!==null&&T.f&H&&(W===null?ft([e]):W.push(e)),e}function Nr(e,r){return R(e,pe(()=>E(e))),r}function R(e,r){return T!==null&&xr()&&T.f&(H|ar)&&(W===null||!W.includes(e))&&$n(),je(e,r)}function je(e,r){return e.equals(r)||(e.v=r,e.version=cn(),Kr(e,ne),xr()&&S!==null&&S.f&q&&!(S.f&K)&&(b!==null&&b.includes(e)?(Z(S,ne),ze(S)):re===null?it([e]):re.push(e))),r}function Kr(e,r){var n=e.reactions;if(n!==null)for(var t=xr(),s=n.length,i=0;i<s;i++){var v=n[i],y=v.f;y&ne||!t&&v===S||(Z(v,r),y&(q|ae)&&(y&H?Kr(v,De):ze(v)))}}let Yr=!1;function de(e,r=null,n){if(typeof e!="object"||e===null||oe in e)return e;const t=qr(e);if(t!==Sn&&t!==Tn)return e;var s=new Map,i=ir(e),v=U(0);i&&s.set("length",U(e.length));var y;return new Proxy(e,{defineProperty(_,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Bn();var o=s.get(a);return o===void 0?(o=U(c.value),s.set(a,o)):R(o,de(c.value,y)),!0},deleteProperty(_,a){var c=s.get(a);if(c===void 0)a in _&&s.set(a,U(F));else{if(i&&typeof a=="string"){var o=s.get("length"),h=Number(a);Number.isInteger(h)&&h<o.v&&R(o,h)}R(c,F),Or(v)}return!0},get(_,a,c){var g;if(a===oe)return e;var o=s.get(a),h=a in _;if(o===void 0&&(!h||(g=ie(_,a))!=null&&g.writable)&&(o=U(de(h?_[a]:F,y)),s.set(a,o)),o!==void 0){var d=E(o);return d===F?void 0:d}return Reflect.get(_,a,c)},getOwnPropertyDescriptor(_,a){var c=Reflect.getOwnPropertyDescriptor(_,a);if(c&&"value"in c){var o=s.get(a);o&&(c.value=E(o))}else if(c===void 0){var h=s.get(a),d=h==null?void 0:h.v;if(h!==void 0&&d!==F)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(_,a){var d;if(a===oe)return!0;var c=s.get(a),o=c!==void 0&&c.v!==F||Reflect.has(_,a);if(c!==void 0||S!==null&&(!o||(d=ie(_,a))!=null&&d.writable)){c===void 0&&(c=U(o?de(_[a],y):F),s.set(a,c));var h=E(c);if(h===F)return!1}return o},set(_,a,c,o){var I;var h=s.get(a),d=a in _;if(i&&a==="length")for(var g=c;g<h.v;g+=1){var x=s.get(g+"");x!==void 0?R(x,F):g in _&&(x=U(F),s.set(g+"",x))}h===void 0?(!d||(I=ie(_,a))!=null&&I.writable)&&(h=U(void 0),R(h,de(c,y)),s.set(a,h)):(d=h.v!==F,R(h,de(c,y)));var O=Reflect.getOwnPropertyDescriptor(_,a);if(O!=null&&O.set&&O.set.call(o,c),!d){if(i&&typeof a=="string"){var D=s.get("length"),k=Number(a);Number.isInteger(k)&&k>=D.v&&R(D,k+1)}Or(v)}return!0},ownKeys(_){E(v);var a=Reflect.ownKeys(_).filter(h=>{var d=s.get(h);return d===void 0||d.v!==F});for(var[c,o]of s)o.v!==F&&!(c in _)&&a.push(c);return a},setPrototypeOf(){qn()}})}function Or(e,r=1){R(e,e.v+r)}var er,Wr,zr;function Xn(){if(er===void 0){er=window;var e=Element.prototype,r=Node.prototype;Wr=ie(r,"firstChild").get,zr=ie(r,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function hr(e=""){return document.createTextNode(e)}function Te(e){return Wr.call(e)}function Ke(e){return zr.call(e)}function V(e,r){return Te(e)}function Dr(e,r){{var n=Te(e);return n instanceof Comment&&n.data===""?Ke(n):n}}function X(e,r=1,n=!1){let t=e;for(;r--;)t=Ke(t);return t}function Jn(e){e.textContent=""}function Ve(e){var r=H|ne;S===null?r|=ae:S.f|=Vr;var n=T!==null&&T.f&H?T:null;const t={children:null,ctx:N,deps:null,equals:Ur,f:r,fn:e,reactions:null,v:null,version:0,parent:n??S};return n!==null&&(n.children??(n.children=[])).push(t),t}function jn(e){const r=Ve(e);return r.equals=cr,r}function Zr(e){var r=e.children;if(r!==null){e.children=null;for(var n=0;n<r.length;n+=1){var t=r[n];t.f&H?pr(t):te(t)}}}function et(e){for(var r=e.parent;r!==null;){if(!(r.f&H))return r;r=r.parent}return null}function Gr(e){var r,n=S;z(et(e));try{Zr(e),r=vn(e)}finally{z(n)}return r}function Qr(e){var r=Gr(e),n=(fe||e.f&ae)&&e.deps!==null?De:q;Z(e,n),e.equals(r)||(e.v=r,e.version=cn())}function pr(e){Zr(e),Ce(e,0),Z(e,ye),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Xr(e){S===null&&T===null&&Ln(),T!==null&&T.f&ae&&Mn(),Er&&kn()}function rt(e,r){var n=r.last;n===null?r.last=r.first=e:(n.next=e,e.prev=n,r.last=e)}function we(e,r,n,t=!0){var s=(e&Oe)!==0,i=S,v={ctx:N,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ne,first:null,fn:r,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var y=he;try{Ir(!0),We(v),v.f|=Nn}catch(c){throw te(v),c}finally{Ir(y)}}else r!==null&&ze(v);var _=n&&v.deps===null&&v.first===null&&v.nodes_start===null&&v.teardown===null&&(v.f&Vr)===0;if(!_&&!s&&t&&(i!==null&&rt(v,i),T!==null&&T.f&H)){var a=T;(a.children??(a.children=[])).push(v)}return v}function Jr(e){const r=we(Ne,null,!1);return Z(r,q),r.teardown=e,r}function rr(e){Xr();var r=S!==null&&(S.f&K)!==0&&N!==null&&!N.m;if(r){var n=N;(n.e??(n.e=[])).push({fn:e,effect:S,reaction:T})}else{var t=yr(e);return t}}function nt(e){return Xr(),jr(e)}function tt(e){const r=we(Oe,e,!0);return(n={})=>new Promise(t=>{n.outro?un(r,()=>{te(r),t(void 0)}):(te(r),t(void 0))})}function yr(e){return we(Fr,e,!1)}function jr(e){return we(Ne,e,!0)}function Be(e){return en(e)}function en(e,r=0){return we(Ne|ar|r,e,!0)}function gr(e,r=!0){return we(Ne|K,e,!0,r)}function rn(e){var r=e.teardown;if(r!==null){const n=Er,t=T;Rr(!0),le(null);try{r.call(null)}finally{Rr(n),le(t)}}}function nn(e){var r=e.deriveds;if(r!==null){e.deriveds=null;for(var n=0;n<r.length;n+=1)pr(r[n])}}function tn(e,r=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var t=n.next;te(n,r),n=t}}function lt(e){for(var r=e.first;r!==null;){var n=r.next;r.f&K||te(r),r=n}}function te(e,r=!0){var n=!1;if((r||e.f&Dn)&&e.nodes_start!==null){for(var t=e.nodes_start,s=e.nodes_end;t!==null;){var i=t===s?null:Ke(t);t.remove(),t=i}n=!0}tn(e,r&&!n),nn(e),Ce(e,0),Z(e,ye);var v=e.transitions;if(v!==null)for(const _ of v)_.stop();rn(e);var y=e.parent;y!==null&&y.first!==null&&ln(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ln(e){var r=e.parent,n=e.prev,t=e.next;n!==null&&(n.next=t),t!==null&&(t.prev=n),r!==null&&(r.first===e&&(r.first=t),r.last===e&&(r.last=n))}function un(e,r){var n=[];wr(e,n,!0),sn(n,()=>{te(e),r&&r()})}function sn(e,r){var n=e.length;if(n>0){var t=()=>--n||r();for(var s of e)s.out(t)}else r()}function wr(e,r,n){if(!(e.f&Y)){if(e.f^=Y,e.transitions!==null)for(const v of e.transitions)(v.is_global||n)&&r.push(v);for(var t=e.first;t!==null;){var s=t.next,i=(t.f&$r)!==0||(t.f&K)!==0;wr(t,r,i?n:!1),t=s}}}function fn(e){on(e,!0)}function on(e,r){if(e.f&Y){Ie(e)&&We(e),e.f^=Y;for(var n=e.first;n!==null;){var t=n.next,s=(n.f&$r)!==0||(n.f&K)!==0;on(n,s?r:!1),n=t}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&i.in()}}let nr=!1,tr=[];function ut(){nr=!1;const e=tr.slice();tr=[],Xe(e)}function mr(e){nr||(nr=!0,queueMicrotask(ut)),tr.push(e)}function st(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let qe=!1,Ue=!1,He=null,he=!1,Er=!1;function Ir(e){he=e}function Rr(e){Er=e}let lr=[],Se=0;let T=null;function le(e){T=e}let S=null;function z(e){S=e}let W=null;function ft(e){W=e}let b=null,$=0,re=null;function it(e){re=e}let an=1,fe=!1,N=null;function cn(){return++an}function xr(){return!ge||N!==null&&N.l===null}function Ie(e){var v,y;var r=e.f;if(r&ne)return!0;if(r&De){var n=e.deps,t=(r&ae)!==0;if(n!==null){var s;if(r&$e){for(s=0;s<n.length;s++)((v=n[s]).reactions??(v.reactions=[])).push(e);e.f^=$e}for(s=0;s<n.length;s++){var i=n[s];if(Ie(i)&&Qr(i),t&&S!==null&&!fe&&!((y=i==null?void 0:i.reactions)!=null&&y.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}(!t||S!==null&&!fe)&&Z(e,q)}return!1}function ot(e,r){for(var n=r;n!==null;){if(n.f&Je)try{n.fn(e);return}catch{n.f^=Je}n=n.parent}throw qe=!1,e}function at(e){return(e.f&ye)===0&&(e.parent===null||(e.parent.f&Je)===0)}function Ye(e,r,n,t){if(qe){if(n===null&&(qe=!1),at(r))throw e;return}n!==null&&(qe=!0);{ot(e,r);return}}function vn(e){var h;var r=b,n=$,t=re,s=T,i=fe,v=W,y=N,_=e.f;b=null,$=0,re=null,T=_&(K|Oe)?null:e,fe=!he&&(_&ae)!==0,W=null,N=e.ctx;try{var a=(0,e.fn)(),c=e.deps;if(b!==null){var o;if(Ce(e,$),c!==null&&$>0)for(c.length=$+b.length,o=0;o<b.length;o++)c[$+o]=b[o];else e.deps=c=b;if(!fe)for(o=$;o<c.length;o++)((h=c[o]).reactions??(h.reactions=[])).push(e)}else c!==null&&$<c.length&&(Ce(e,$),c.length=$);return a}finally{b=r,$=n,re=t,T=s,fe=i,W=v,N=y}}function ct(e,r){let n=r.reactions;if(n!==null){var t=n.indexOf(e);if(t!==-1){var s=n.length-1;s===0?n=r.reactions=null:(n[t]=n[s],n.pop())}}n===null&&r.f&H&&(b===null||!b.includes(r))&&(Z(r,De),r.f&(ae|$e)||(r.f^=$e),Ce(r,0))}function Ce(e,r){var n=e.deps;if(n!==null)for(var t=r;t<n.length;t++)ct(e,n[t])}function We(e){var r=e.f;if(!(r&ye)){Z(e,q);var n=S,t=N;S=e;try{r&ar?lt(e):tn(e),nn(e),rn(e);var s=vn(e);e.teardown=typeof s=="function"?s:null,e.version=an}catch(i){Ye(i,e,n,t||e.ctx)}finally{S=n}}}function vt(){if(Se>1e3){Se=0;try{Pn()}catch(e){if(He!==null)Ye(e,He,null);else throw e}}Se++}function _t(e){var r=e.length;if(r!==0){vt();var n=he;he=!0;try{for(var t=0;t<r;t++){var s=e[t];s.f&q||(s.f^=q);var i=[];_n(s,i),dt(i)}}finally{he=n}}}function dt(e){var r=e.length;if(r!==0)for(var n=0;n<r;n++){var t=e[n];if(!(t.f&(ye|Y)))try{Ie(t)&&(We(t),t.deps===null&&t.first===null&&t.nodes_start===null&&(t.teardown===null?ln(t):t.fn=null))}catch(s){Ye(s,t,null,t.ctx)}}}function ht(){if(Ue=!1,Se>1001)return;const e=lr;lr=[],_t(e),Ue||(Se=0,He=null)}function ze(e){Ue||(Ue=!0,queueMicrotask(ht)),He=e;for(var r=e;r.parent!==null;){r=r.parent;var n=r.f;if(n&(Oe|K)){if(!(n&q))return;r.f^=q}}lr.push(r)}function _n(e,r){var n=e.first,t=[];e:for(;n!==null;){var s=n.f,i=(s&K)!==0,v=i&&(s&q)!==0,y=n.next;if(!v&&!(s&Y))if(s&Ne){if(i)n.f^=q;else try{Ie(n)&&We(n)}catch(o){Ye(o,n,null,n.ctx)}var _=n.first;if(_!==null){n=_;continue}}else s&Fr&&t.push(n);if(y===null){let o=n.parent;for(;o!==null;){if(e===o)break e;var a=o.next;if(a!==null){n=a;continue e}o=o.parent}}n=y}for(var c=0;c<t.length;c++)_=t[c],r.push(_),_n(_,r)}function E(e){var c;var r=e.f,n=(r&H)!==0;if(n&&r&ye){var t=Gr(e);return pr(e),t}if(T!==null){W!==null&&W.includes(e)&&Fn();var s=T.deps;b===null&&s!==null&&s[$]===e?$++:b===null?b=[e]:b.push(e),re!==null&&S!==null&&S.f&q&&!(S.f&K)&&re.includes(e)&&(Z(S,ne),ze(S))}else if(n&&e.deps===null)for(var i=e,v=i.parent,y=i;v!==null;)if(v.f&H){var _=v;y=_,v=_.parent}else{var a=v;(c=a.deriveds)!=null&&c.includes(y)||(a.deriveds??(a.deriveds=[])).push(y);break}return n&&(i=e,Ie(i)&&Qr(i)),e.v}function pe(e){const r=T;try{return T=null,e()}finally{T=r}}const pt=~(ne|De|q);function Z(e,r){e.f=e.f&pt|r}function dn(e,r=!1,n){N={p:N,c:null,e:null,m:!1,s:e,x:null,l:null},ge&&!r&&(N.l={s:null,u:null,r1:[],r2:U(!1)})}function hn(e){const r=N;if(r!==null){e!==void 0&&(r.x=e);const v=r.e;if(v!==null){var n=S,t=T;r.e=null;try{for(var s=0;s<v.length;s++){var i=v[s];z(i.effect),le(i.reaction),yr(i.fn)}}finally{z(n),le(t)}}N=r.p,r.m=!0}return e||{}}function yt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(oe in e)ur(e);else if(!Array.isArray(e))for(let r in e){const n=e[r];typeof n=="object"&&n&&oe in n&&ur(n)}}}function ur(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let t in e)try{ur(e[t],r)}catch{}const n=qr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const t=An(n);for(let s in t){const i=t[s].get;if(i)try{i.call(e)}catch{}}}}}const gt=["touchstart","touchmove"];function wt(e){return gt.includes(e)}function mt(e){var r=T,n=S;le(null),z(null);try{return e()}finally{le(r),z(n)}}const Et=new Set,kr=new Set;function xt(e,r,n,t){function s(i){if(t.capture||Ae.call(r,i),!i.cancelBubble)return mt(()=>n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mr(()=>{r.addEventListener(e,s,t)}):r.addEventListener(e,s,t),s}function sr(e,r,n,t,s){var i={capture:t,passive:s},v=xt(e,r,n,i);(r===document.body||r===window||r===document)&&Jr(()=>{r.removeEventListener(e,v,i)})}function Ae(e){var k;var r=this,n=r.ownerDocument,t=e.type,s=((k=e.composedPath)==null?void 0:k.call(e))||[],i=s[0]||e.target,v=0,y=e.__root;if(y){var _=s.indexOf(y);if(_!==-1&&(r===document||r===window)){e.__root=r;return}var a=s.indexOf(r);if(a===-1)return;_<=a&&(v=_)}if(i=s[v]||e.target,i!==r){xn(e,"currentTarget",{configurable:!0,get(){return i||n}});var c=T,o=S;le(null),z(null);try{for(var h,d=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var x=i["__"+t];if(x!==void 0&&!i.disabled)if(ir(x)){var[O,...D]=x;O.apply(i,[e,...D])}else x.call(i,e)}catch(I){h?d.push(I):h=I}if(e.cancelBubble||g===r||g===null)break;i=g}if(h){for(let I of d)queueMicrotask(()=>{throw I});throw h}}finally{e.__root=r,delete e.currentTarget,le(c),z(o)}}}function pn(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function Ar(e,r){var n=S;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=r)}function Ze(e,r){var n=(r&Gn)!==0,t,s=!e.startsWith("<!>");return()=>{t===void 0&&(t=pn(s?e:"<!>"+e),t=Te(t));var i=n?document.importNode(t,!0):t.cloneNode(!0);return Ar(i,i),i}}function yn(e,r,n="svg"){var t=!e.startsWith("<!>"),s=`<${n}>${t?e:"<!>"+e}</${n}>`,i;return()=>{if(!i){var v=pn(s),y=Te(v);i=Te(y)}var _=i.cloneNode(!0);return Ar(_,_),_}}function Mr(){var e=document.createDocumentFragment(),r=document.createComment(""),n=hr();return e.append(r,n),Ar(r,n),e}function ee(e,r){e!==null&&e.before(r)}function fr(e,r){var n=r==null?"":typeof r=="object"?r+"":r;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function At(e,r){return St(e,r)}const _e=new Map;function St(e,{target:r,anchor:n,props:t={},events:s,context:i,intro:v=!0}){Xn();var y=new Set,_=o=>{for(var h=0;h<o.length;h++){var d=o[h];if(!y.has(d)){y.add(d);var g=wt(d);r.addEventListener(d,Ae,{passive:g});var x=_e.get(d);x===void 0?(document.addEventListener(d,Ae,{passive:g}),_e.set(d,1)):_e.set(d,x+1)}}};_(or(Et)),kr.add(_);var a=void 0,c=tt(()=>{var o=n??r.appendChild(hr());return gr(()=>{if(i){dn({});var h=N;h.c=i}s&&(t.$$events=s),a=e(o,t)||{},i&&hn()}),()=>{var g;for(var h of y){r.removeEventListener(h,Ae);var d=_e.get(h);--d===0?(document.removeEventListener(h,Ae),_e.delete(h)):_e.set(h,d)}kr.delete(_),o!==n&&((g=o.parentNode)==null||g.removeChild(o))}});return Tt.set(a,c),a}let Tt=new WeakMap;function Le(e,r){return r}function Ct(e,r,n,t){for(var s=[],i=r.length,v=0;v<i;v++)wr(r[v].e,s,!0);var y=i>0&&s.length===0&&n!==null;if(y){var _=n.parentNode;Jn(_),_.append(n),t.clear(),j(e,r[0].prev,r[i-1].next)}sn(s,()=>{for(var a=0;a<i;a++){var c=r[a];y||(t.delete(c.k),j(e,c.prev,c.next)),te(c.e,!y)}})}function Pe(e,r,n,t,s,i=null){var v=e,y={flags:r,items:new Map,first:null},_=(r&Hr)!==0;if(_){var a=e;v=a.appendChild(hr())}var c=null,o=!1;en(()=>{var h=n(),d=ir(h)?h:h==null?[]:or(h),g=d.length;if(!(o&&g===0)){o=g===0;{var x=T;Nt(d,y,v,s,r,(x.f&Y)!==0,t)}i!==null&&(g===0?c?fn(c):c=gr(()=>i(v)):c!==null&&un(c,()=>{c=null})),n()}})}function Nt(e,r,n,t,s,i,v,y){var me,Ee,xe,ke;var _=(s&Un)!==0,a=(s&(vr|_r))!==0,c=e.length,o=r.items,h=r.first,d=h,g,x=null,O,D=[],k=[],I,B,m,A;if(_)for(A=0;A<c;A+=1)I=e[A],B=v(I,A),m=o.get(B),m!==void 0&&((me=m.a)==null||me.measure(),(O??(O=new Set)).add(m));for(A=0;A<c;A+=1){if(I=e[A],B=v(I,A),m=o.get(B),m===void 0){var ue=d?d.e.nodes_start:n;x=Dt(ue,r,x,x===null?r.first:x.next,I,B,A,t,s),o.set(B,x),D=[],k=[],d=x.next;continue}if(a&&Ot(m,I,A,s),m.e.f&Y&&(fn(m.e),_&&((Ee=m.a)==null||Ee.unfix(),(O??(O=new Set)).delete(m))),m!==d){if(g!==void 0&&g.has(m)){if(D.length<k.length){var C=k[0],M;x=C.prev;var G=D[0],ce=D[D.length-1];for(M=0;M<D.length;M+=1)Lr(D[M],C,n);for(M=0;M<k.length;M+=1)g.delete(k[M]);j(r,G.prev,ce.next),j(r,x,G),j(r,ce,C),d=C,x=ce,A-=1,D=[],k=[]}else g.delete(m),Lr(m,d,n),j(r,m.prev,m.next),j(r,m,x===null?r.first:x.next),j(r,x,m),x=m;continue}for(D=[],k=[];d!==null&&d.k!==B;)(i||!(d.e.f&Y))&&(g??(g=new Set)).add(d),k.push(d),d=d.next;if(d===null)continue;m=d}D.push(m),x=m,d=m.next}if(d!==null||g!==void 0){for(var Q=g===void 0?[]:or(g);d!==null;)(i||!(d.e.f&Y))&&Q.push(d),d=d.next;var J=Q.length;if(J>0){var Re=s&Hr&&c===0?n:null;if(_){for(A=0;A<J;A+=1)(xe=Q[A].a)==null||xe.measure();for(A=0;A<J;A+=1)(ke=Q[A].a)==null||ke.fix()}Ct(r,Q,Re,o)}}_&&mr(()=>{var Me;if(O!==void 0)for(m of O)(Me=m.a)==null||Me.apply()}),S.first=r.first&&r.first.e,S.last=x&&x.e}function Ot(e,r,n,t){t&vr&&je(e.v,r),t&_r?je(e.i,n):e.i=n}function Dt(e,r,n,t,s,i,v,y,_,a){var c=(_&vr)!==0,o=(_&Hn)===0,h=c?o?dr(s):U(s):s,d=_&_r?U(v):v,g={i:d,v:h,k:i,a:null,e:null,prev:n,next:t};try{return g.e=gr(()=>y(e,h,d),Yr),g.e.prev=n&&n.e,g.e.next=t&&t.e,n===null?r.first=g:(n.next=g,n.e.next=g.e),t!==null&&(t.prev=g,t.e.prev=g.e),g}finally{}}function Lr(e,r,n){for(var t=e.next?e.next.e.nodes_start:n,s=r?r.e.nodes_start:n,i=e.e.nodes_start;i!==t;){var v=Ke(i);s.before(i),i=v}}function j(e,r,n){r===null?e.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}function Fe(e,r,n){var t=e.__className,s=It(r);(t!==s||Yr)&&(r==null&&!n?e.removeAttribute("class"):e.className=s,e.__className=s)}function It(e,r){return(e??"")+""}function Rt(e,r,n){var t=ie(e,r);t&&t.set&&(e[r]=n,Jr(()=>{e[r]=null}))}function Pr(e,r){return e===r||(e==null?void 0:e[oe])===r}function kt(e={},r,n,t){return yr(()=>{var s,i;return jr(()=>{s=i,i=[],pe(()=>{e!==n(...i)&&(r(e,...i),s&&Pr(n(...s),e)&&r(null,...s))})}),()=>{mr(()=>{i&&Pr(n(...i),e)&&r(null,...i)})}}),e}function Mt(e=!1){const r=N,n=r.l.u;if(!n)return;let t=()=>yt(r.s);if(e){let s=0,i={};const v=Ve(()=>{let y=!1;const _=r.s;for(const a in _)_[a]!==i[a]&&(i[a]=_[a],y=!0);return y&&s++,s});t=()=>E(v)}n.b.length&&nt(()=>{br(r,t),Xe(n.b)}),rr(()=>{const s=pe(()=>n.m.map(Cn));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&rr(()=>{br(r,t),Xe(n.a)})}function br(e,r){if(e.l.s)for(const n of e.l.s)E(n);r()}let be=!1;function Lt(e){var r=be;try{return be=!1,[e(),be]}finally{be=r}}function Br(e){for(var r=S,n=S;r!==null&&!(r.f&(K|Oe));)r=r.parent;try{return z(r),e()}finally{z(n)}}function Qe(e,r,n,t){var ue;var s=(n&Kn)!==0,i=!ge||(n&Yn)!==0,v=(n&zn)!==0,y=(n&Zn)!==0,_=!1,a;v?[a,_]=Lt(()=>e[r]):a=e[r];var c=oe in e||In in e,o=((ue=ie(e,r))==null?void 0:ue.set)??(c&&v&&r in e?C=>e[r]=C:void 0),h=t,d=!0,g=!1,x=()=>(g=!0,d&&(d=!1,y?h=pe(t):h=t),h);a===void 0&&t!==void 0&&(o&&i&&bn(),a=x(),o&&o(a));var O;if(i)O=()=>{var C=e[r];return C===void 0?x():(d=!0,g=!1,C)};else{var D=Br(()=>(s?Ve:jn)(()=>e[r]));D.f|=On,O=()=>{var C=E(D);return C!==void 0&&(h=void 0),C===void 0?h:C}}if(!(n&Wn))return O;if(o){var k=e.$$legacy;return function(C,M){return arguments.length>0?((!i||!M||k||_)&&o(M?O():C),C):O()}}var I=!1,B=!1,m=dr(a),A=Br(()=>Ve(()=>{var C=O(),M=E(m);return I?(I=!1,B=!0,M):(B=!1,m.v=C)}));return s||(A.equals=cr),function(C,M){if(arguments.length>0){const G=M?E(A):i&&v?de(C):C;return A.equals(G)||(I=!0,R(m,G),g&&h!==void 0&&(h=G),pe(()=>E(A))),C}return E(A)}}function Pt(e){N===null&&st(),ge&&N.l!==null?bt(N).m.push(e):rr(()=>{const r=pe(e);if(typeof r=="function")return r})}function bt(e){var r=e.l;return r.u??(r.u={a:[],b:[],m:[]})}const Bt="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bt);Vn();var qt=Ze("<div> </div>"),Ft=Ze("<div></div>"),$t=Ze('<div class="board svelte-15zasm0"><!> <div>Игра окончена!</div> <div class="board-layout svelte-15zasm0"></div></div>');function Vt(e,r){dn(r,!1);let n=Qe(r,"score",12,0),t=Qe(r,"best",12,0),s=Qe(r,"ai",8,!1),i=!0,v=se(!1),y=0,_=[],a=new Set,c=se();const o=4,h="best_score";let d=se(null);const g=(f,l)=>{var u;return(u=E(d))==null?void 0:u.children[f*o+l]},x=f=>new Promise(l=>setTimeout(l,f)),O=async()=>{if(_.length)for(;;){const f=_.shift();if(!f)break;if(f.type=="create"){const l=g(f.to.x,f.to.y);l.classList.add("cell-created"),setTimeout(()=>{l.classList.remove("cell-created")},210)}if(f.type=="move"){console.log("Animation",f);const l=g(f.from.x,f.from.y),u=(P,L)=>P.x===L.x?P.y>L.y?"left":"right":P.x>L.x?"up":"down",p=(P,L)=>Math.abs(P.x-L.x)+Math.abs(P.y-L.y),w=`cell-move-${u(f.from,f.to)}-${p(f.from,f.to)}`;l.classList.add(w),setTimeout(()=>{l.classList.remove(w)},210)}if(f.type=="upgrade"){const l=g(f.to.x,f.to.y);l.classList.add("cell-upgraded"),setTimeout(()=>{l.classList.remove("cell-upgraded")},210)}}},D=f=>{R(c,[...f])},k=f=>btoa(String(f<<7^3735928559)),I=f=>(Number(atob(f))^3735928559)>>7,B=()=>{localStorage.setItem(h,k(t()))},m=()=>{let f=localStorage.getItem(h);t(f?I(f):0)},A=()=>{n(0),R(c,new Array);for(let f=0;f<o;++f){Nr(c,E(c)[f]=new Array);for(let l=0;l<o;++l)Nr(c,E(c)[f][l]=null)}J(E(c)),J(E(c)),R(v,!1),y=0,a.clear(),_=[]},ue=(f,l)=>{for(let u=0;u<o;++u)for(let p=0;p<o;++p)if(f[u][p]!==l[u][p])return!1;return!0};Pt(()=>{m(),A(),setInterval(()=>{if(!s()||E(v))return;const f=Q(E(c));let l=Math.random();l>.75?C(f):l>.5?M(f):l>.25?G(f):ce(f),!ue(E(c),f)&&(a.clear(),J(f),R(v,!Sr(f)),_=[],R(c,[...f]))},50)});const C=f=>{for(let l=0;l<o;++l)for(let u=0;u<o;++u)_.push(...Re(f,l,u)),f=[...f]},M=f=>{for(let l=o-1;l>=0;--l)for(let u=0;u<o;++u)_.push(...me(f,l,u)),f=[...f]},G=f=>{for(let l=0;l<o;++l)for(let u=0;u<o;++u)_.push(...Ee(f,u,l)),f=[...f]},ce=f=>{for(let l=o-1;l>=0;--l)for(let u=0;u<o;++u)_.push(...xe(f,u,l)),f=[...f]},Q=f=>{const l=[];for(let u=0;u<o;++u)l[u]=[...f[u]];return l},J=f=>{const l=[];for(let L=0;L<o;++L)for(let ve=0;ve<o;++ve)f[L][ve]||l.push([L,ve]);if(!l.length)return!1;const u=l.length*Math.random()|0;let p=Math.random()>.9?4:2,w=l[u][0],P=l[u][1];return f[w][P]=p,_.push({type:"create",from:{x:w,y:P,value:null},to:{x:w,y:P,value:p}}),!0},Re=(f,l,u,p)=>{if(!f[l][u]||l<=0)return p?[p]:[];p||(p={type:"move",from:{x:l,y:u,value:f[l][u]},to:{x:l,y:u,value:f[l][u]}});const w=f[l][u];return f[l-1][u]===null?(f[l][u]=null,f[l-1][u]=w,p.to={x:l-1,y:u,value:w},Re(f,l-1,u,p)):f[l-1][u]===w&&!a.has((l-1)*o+u)?(a.add((l-1)*o+u),f[l][u]=null,n(n()+w*2),f[l-1][u]=w*2,p.to={x:l-1,y:u,value:w},[p,{type:"upgrade",from:{x:l-1,y:u,value:w},to:{x:l-1,y:u,value:w*2}}]):[p]},me=(f,l,u,p)=>{if(!f[l][u]||l>=o-1)return p?[p]:[];p||(p={type:"move",from:{x:l,y:u,value:f[l][u]},to:{x:l,y:u,value:f[l][u]}});const w=f[l][u];return f[l+1][u]===null?(f[l][u]=null,f[l+1][u]=w,p.to={x:l+1,y:u,value:w},me(f,l+1,u,p)):f[l+1][u]===w&&!a.has((l+1)*o+u)?(a.add((l+1)*o+u),f[l][u]=null,n(n()+w*2),f[l+1][u]=w*2,p.to={x:l+1,y:u,value:w},[p,{type:"upgrade",from:{x:l+1,y:u,value:w},to:{x:l+1,y:u,value:w*2}}]):[p]},Ee=(f,l,u,p)=>{if(!f[l][u]||u<=0)return p?[p]:[];p||(p={type:"move",from:{x:l,y:u,value:f[l][u]},to:{x:l,y:u,value:f[l][u]}});const w=f[l][u];return f[l][u-1]===null?(f[l][u]=null,f[l][u-1]=w,p.to={x:l,y:u-1,value:w},Ee(f,l,u-1,p)):f[l][u-1]===w&&!a.has(l*o+u-1)?(a.add(l*o+u-1),f[l][u]=null,n(n()+w*2),f[l][u-1]=w*2,p.to={x:l,y:u-1,value:w},[p,{type:"upgrade",from:{x:l,y:u-1,value:w},to:{x:l,y:u-1,value:w*2}}]):[p]},xe=(f,l,u,p)=>{if(!f[l][u]||u>=o-1)return p?[p]:[];p||(p={type:"move",from:{x:l,y:u,value:f[l][u]},to:{x:l,y:u,value:f[l][u]}});const w=f[l][u];return f[l][u+1]===null?(f[l][u]=null,f[l][u+1]=w,p.to={x:l,y:u+1,value:w},xe(f,l,u+1,p)):f[l][u+1]===w&&!a.has(l*o+u+1)?(a.add(l*o+u+1),f[l][u]=null,n(n()+w*2),f[l][u+1]=w*2,p.to={x:l,y:u+1,value:w},[p,{type:"upgrade",from:{x:l,y:u+1,value:w},to:{x:l,y:u+1,value:w*2}}]):[p]},ke=f=>f==="Enter"&&E(v)?(A(),!0):!1,Me=(f,l)=>{if(a.clear(),f==="ArrowUp"||f==="KeyW")C(l);else if(f==="ArrowDown"||f==="KeyS")M(l);else if(f==="ArrowLeft"||f==="KeyA")G(l);else if(f==="ArrowRight"||f==="KeyD")ce(l);else return!1;return _=_.filter(u=>u.type!=="move"||u.type==="move"&&(u.from.x!==u.to.x||u.from.y!==u.to.y)),!0},gn=(f,l,u)=>f[l][u]===void 0?!1:f[l][u]===null||l>0&&f[l-1][u]===f[l][u]||l<o-1&&f[l+1][u]===f[l][u]||u>0&&f[l][u-1]===f[l][u]||u<o-1&&f[l][u+1]===f[l][u],Sr=f=>{let l=!1;for(let u=0;u<o;++u)for(let p=0;p<o;++p)l||(l=gn(f,u,p));return l},wn=async f=>{if(!i||ke(f.code)||s())return;i=!1;const l=Q(E(c));if(Me(f.code,l)){if(ue(E(c),l)){i=!0;return}y+=1,console.log("Step:",y),console.log([..._]),await O(),await x(200),D(l);const u=Q(l);J(u),D(u),setTimeout(async()=>{await O()}),await x(100),R(v,!Sr(u))}n()>t()&&(t(n()),B()),i=!0};Mt();var Ge=$t();sr("keydown",er,wn);var Tr=V(Ge);Pe(Tr,1,()=>E(c),Le,(f,l)=>{var u=Mr(),p=Dr(u);Pe(p,1,()=>E(l),Le,(w,P)=>{var L=qt(),ve=V(L);Be(()=>{Fe(L,`${`board-cell ${E(P)?`cell-${E(P)}`:""}`??""} svelte-15zasm0`),fr(ve,E(P)??"")}),ee(w,L)}),ee(f,u)});var Cr=X(Tr,2),mn=X(Cr,2);return Pe(mn,5,()=>E(c),Le,(f,l)=>{var u=Mr(),p=Dr(u);Pe(p,1,()=>E(l),Le,(w,P)=>{var L=Ft();Be(()=>Fe(L,`${`cell-${E(P)}`??""} svelte-15zasm0`)),ee(w,L)}),ee(f,u)}),kt(Ge,f=>R(d,f),()=>E(d)),Be(()=>Fe(Cr,`${`msg-container ${E(v)?"active":"hidden"}`??""} svelte-15zasm0`)),ee(e,Ge),Rt(r,"resetBoard",A),hn({resetBoard:A})}var Ut=yn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><g fill="none" stroke="#776E65" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M15.5 13a3.5 3.5 0 0 0-3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1-7 0v-1.8"></path><path d="M17.5 16a3.5 3.5 0 0 0 0-7H17"></path><path d="M19 9.3V6.5a3.5 3.5 0 0 0-7 0M6.5 16a3.5 3.5 0 0 1 0-7H7"></path><path d="M5 9.3V6.5a3.5 3.5 0 0 1 7 0v10"></path></g></svg>');function Ht(e){var r=Ut();ee(e,r)}var Kt=yn('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path fill="#776E65" d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2v2a8 8 0 1 1-5.135 1.865L9 8V2H3l2.446 2.447A9.98 9.98 0 0 0 2 12"></path></svg>');function Yt(e){var r=Kt();ee(e,r)}var Wt=Ze('<main class="svelte-j0us8p"><div class="title svelte-j0us8p"><div class="header svelte-j0us8p"><h1>2048</h1></div> <div class="icon-container svelte-j0us8p"><button class="icon svelte-j0us8p"><!></button> <button><!></button></div> <div class="score-container svelte-j0us8p"><section class="score svelte-j0us8p"><div class="svelte-j0us8p">Счёт</div> <div class="svelte-j0us8p"> </div></section> <section class="score svelte-j0us8p"><div class="svelte-j0us8p">Лучший</div> <div class="svelte-j0us8p"> </div></section></div></div> <!></main>');function zt(e){let r=se(0),n=se(0),t=se(!1),s=se();const i=()=>{R(t,!E(t))};var v=Wt(),y=V(v),_=X(V(y),2),a=V(_),c=V(a);Yt(c);var o=X(a,2),h=V(o);Ht(h);var d=X(_,2),g=V(d),x=X(V(g),2),O=V(x),D=X(g,2),k=X(V(D),2),I=V(k),B=X(y,2);Vt(B,{get score(){return E(r)},set score(m){R(r,m)},get best(){return E(n)},set best(m){R(n,m)},get resetBoard(){return E(s)},set resetBoard(m){R(s,m)},get ai(){return E(t)},set ai(m){R(t,m)},$$legacy:!0}),Be(()=>{Fe(o,`${`icon ${E(t)?"active":""}`??""} svelte-j0us8p`),fr(O,E(r)),fr(I,E(n))}),sr("click",a,function(...m){var A;(A=E(s))==null||A.apply(this,m)}),sr("click",o,i),ee(e,v)}At(zt,{target:document.getElementById("app")});
