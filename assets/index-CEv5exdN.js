(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&t(v)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const sn=!1;var ze=Array.isArray,Qe=Array.from,fn=Object.defineProperty,le=Object.getOwnPropertyDescriptor,on=Object.getOwnPropertyDescriptors,an=Object.prototype,cn=Array.prototype,Er=Object.getPrototypeOf;function vn(e){return e()}function Le(e){for(var r=0;r<e.length;r++)e[r]()}const V=2,xr=4,Ee=8,Xe=16,$=32,xe=64,qe=128,ue=256,Oe=512,P=1024,j=2048,Ae=4096,U=8192,_e=16384,_n=32768,Ar=65536,dn=1<<17,hn=1<<19,Sr=1<<20,ae=Symbol("$state"),pn=Symbol("legacy props");function Tr(e){return e===this.v}function yn(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Je(e){return!yn(e,this.v)}function gn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function En(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function An(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function bn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let de=!1;function kn(){de=!0}const On=1,Nn=2,In=16,Cn=1,Dn=2,Rn=4,Pn=8,Mn=16,Bn=2,B=Symbol();function F(e,r){var n={f:0,v:e,reactions:null,equals:Tr,version:0};return n}function je(e,r=!1){var t;const n=F(e);return r||(n.equals=Je),de&&k!==null&&k.l!==null&&((t=k.l).s??(t.s=[])).push(n),n}function oe(e,r=!1){return Ln(je(e,r))}function Ln(e){return S!==null&&S.f&V&&(H===null?Xn([e]):H.push(e)),e}function cr(e,r){return I(e,me(()=>m(e))),r}function I(e,r){return S!==null&&lr()&&S.f&(V|Xe)&&(H===null||!H.includes(e))&&bn(),br(e,r)}function br(e,r){return e.equals(r)||(e.v=r,e.version=Gr(),kr(e,j),lr()&&E!==null&&E.f&P&&!(E.f&$)&&(R!==null&&R.includes(e)?(Y(E,j),Me(E)):J===null?Jn([e]):J.push(e))),r}function kr(e,r){var n=e.reactions;if(n!==null)for(var t=lr(),l=n.length,s=0;s<l;s++){var v=n[s],h=v.f;h&j||!t&&v===E||(Y(v,r),h&(P|ue)&&(h&V?kr(v,Ae):Me(v)))}}let Or=!1;function ie(e,r=null,n){if(typeof e!="object"||e===null||ae in e)return e;const t=Er(e);if(t!==an&&t!==cn)return e;var l=new Map,s=ze(e),v=F(0);s&&l.set("length",F(e.length));var h;return new Proxy(e,{defineProperty(c,o,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&An();var a=l.get(o);return a===void 0?(a=F(_.value),l.set(o,a)):I(a,ie(_.value,h)),!0},deleteProperty(c,o){var _=l.get(o);if(_===void 0)o in c&&l.set(o,F(B));else{if(s&&typeof o=="string"){var a=l.get("length"),d=Number(o);Number.isInteger(d)&&d<a.v&&I(a,d)}I(_,B),vr(v)}return!0},get(c,o,_){var y;if(o===ae)return e;var a=l.get(o),d=o in c;if(a===void 0&&(!d||(y=le(c,o))!=null&&y.writable)&&(a=F(ie(d?c[o]:B,h)),l.set(o,a)),a!==void 0){var p=m(a);return p===B?void 0:p}return Reflect.get(c,o,_)},getOwnPropertyDescriptor(c,o){var _=Reflect.getOwnPropertyDescriptor(c,o);if(_&&"value"in _){var a=l.get(o);a&&(_.value=m(a))}else if(_===void 0){var d=l.get(o),p=d==null?void 0:d.v;if(d!==void 0&&p!==B)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return _},has(c,o){var p;if(o===ae)return!0;var _=l.get(o),a=_!==void 0&&_.v!==B||Reflect.has(c,o);if(_!==void 0||E!==null&&(!a||(p=le(c,o))!=null&&p.writable)){_===void 0&&(_=F(a?ie(c[o],h):B),l.set(o,_));var d=m(_);if(d===B)return!1}return a},set(c,o,_,a){var b;var d=l.get(o),p=o in c;if(s&&o==="length")for(var y=_;y<d.v;y+=1){var A=l.get(y+"");A!==void 0?I(A,B):y in c&&(A=F(B),l.set(y+"",A))}d===void 0?(!p||(b=le(c,o))!=null&&b.writable)&&(d=F(void 0),I(d,ie(_,h)),l.set(o,d)):(p=d.v!==B,I(d,ie(_,h)));var O=Reflect.getOwnPropertyDescriptor(c,o);if(O!=null&&O.set&&O.set.call(a,_),!p){if(s&&typeof o=="string"){var C=l.get("length"),x=Number(o);Number.isInteger(x)&&x>=C.v&&I(C,x+1)}vr(v)}return!0},ownKeys(c){m(v);var o=Reflect.ownKeys(c).filter(d=>{var p=l.get(d);return p===void 0||p.v!==B});for(var[_,a]of l)a.v!==B&&!(_ in c)&&o.push(_);return o},setPrototypeOf(){Sn()}})}function vr(e,r=1){I(e,e.v+r)}var Fe,Nr,Ir;function qn(){if(Fe===void 0){Fe=window;var e=Element.prototype,r=Node.prototype;Nr=le(r,"firstChild").get,Ir=le(r,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Cr(e=""){return document.createTextNode(e)}function ge(e){return Nr.call(e)}function De(e){return Ir.call(e)}function q(e,r){return ge(e)}function Fn(e,r){{var n=ge(e);return n instanceof Comment&&n.data===""?De(n):n}}function Q(e,r=1,n=!1){let t=e;for(;r--;)t=De(t);return t}function Vn(e){e.textContent=""}function Ne(e){var r=V|j;E===null?r|=ue:E.f|=Sr;var n=S!==null&&S.f&V?S:null;const t={children:null,ctx:k,deps:null,equals:Tr,f:r,fn:e,reactions:null,v:null,version:0,parent:n??E};return n!==null&&(n.children??(n.children=[])).push(t),t}function $n(e){const r=Ne(e);return r.equals=Je,r}function Dr(e){var r=e.children;if(r!==null){e.children=null;for(var n=0;n<r.length;n+=1){var t=r[n];t.f&V?er(t):ee(t)}}}function Un(e){for(var r=e.parent;r!==null;){if(!(r.f&V))return r;r=r.parent}return null}function Rr(e){var r,n=E;K(Un(e));try{Dr(e),r=zr(e)}finally{K(n)}return r}function Pr(e){var r=Rr(e),n=(te||e.f&ue)&&e.deps!==null?Ae:P;Y(e,n),e.equals(r)||(e.v=r,e.version=Gr())}function er(e){Dr(e),we(e,0),Y(e,_e),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Mr(e){E===null&&S===null&&mn(),S!==null&&S.f&ue&&wn(),tr&&gn()}function Hn(e,r){var n=r.last;n===null?r.last=r.first=e:(n.next=e,e.prev=n,r.last=e)}function he(e,r,n,t=!0){var l=(e&xe)!==0,s=E,v={ctx:k,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|j,first:null,fn:r,last:null,next:null,parent:l?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var h=ce;try{_r(!0),Pe(v),v.f|=_n}catch(_){throw ee(v),_}finally{_r(h)}}else r!==null&&Me(v);var c=n&&v.deps===null&&v.first===null&&v.nodes_start===null&&v.teardown===null&&(v.f&Sr)===0;if(!c&&!l&&t&&(s!==null&&Hn(v,s),S!==null&&S.f&V)){var o=S;(o.children??(o.children=[])).push(v)}return v}function Br(e){const r=he(Ee,null,!1);return Y(r,P),r.teardown=e,r}function Ve(e){Mr();var r=E!==null&&(E.f&$)!==0&&k!==null&&!k.m;if(r){var n=k;(n.e??(n.e=[])).push({fn:e,effect:E,reaction:S})}else{var t=Lr(e);return t}}function Kn(e){return Mr(),Wn(e)}function Yn(e){const r=he(xe,e,!0);return(n={})=>new Promise(t=>{n.outro?Hr(r,()=>{ee(r),t(void 0)}):(ee(r),t(void 0))})}function Lr(e){return he(xr,e,!1)}function Wn(e){return he(Ee,e,!0)}function $e(e){return qr(e)}function qr(e,r=0){return he(Ee|Xe|r,e,!0)}function rr(e,r=!0){return he(Ee|$,e,!0,r)}function Fr(e){var r=e.teardown;if(r!==null){const n=tr,t=S;dr(!0),re(null);try{r.call(null)}finally{dr(n),re(t)}}}function Vr(e){var r=e.deriveds;if(r!==null){e.deriveds=null;for(var n=0;n<r.length;n+=1)er(r[n])}}function $r(e,r=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var t=n.next;ee(n,r),n=t}}function Zn(e){for(var r=e.first;r!==null;){var n=r.next;r.f&$||ee(r),r=n}}function ee(e,r=!0){var n=!1;if((r||e.f&hn)&&e.nodes_start!==null){for(var t=e.nodes_start,l=e.nodes_end;t!==null;){var s=t===l?null:De(t);t.remove(),t=s}n=!0}$r(e,r&&!n),Vr(e),we(e,0),Y(e,_e);var v=e.transitions;if(v!==null)for(const c of v)c.stop();Fr(e);var h=e.parent;h!==null&&h.first!==null&&Ur(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ur(e){var r=e.parent,n=e.prev,t=e.next;n!==null&&(n.next=t),t!==null&&(t.prev=n),r!==null&&(r.first===e&&(r.first=t),r.last===e&&(r.last=n))}function Hr(e,r){var n=[];nr(e,n,!0),Kr(n,()=>{ee(e),r&&r()})}function Kr(e,r){var n=e.length;if(n>0){var t=()=>--n||r();for(var l of e)l.out(t)}else r()}function nr(e,r,n){if(!(e.f&U)){if(e.f^=U,e.transitions!==null)for(const v of e.transitions)(v.is_global||n)&&r.push(v);for(var t=e.first;t!==null;){var l=t.next,s=(t.f&Ar)!==0||(t.f&$)!==0;nr(t,r,s?n:!1),t=l}}}function Yr(e){Wr(e,!0)}function Wr(e,r){if(e.f&U){Se(e)&&Pe(e),e.f^=U;for(var n=e.first;n!==null;){var t=n.next,l=(n.f&Ar)!==0||(n.f&$)!==0;Wr(n,l?r:!1),n=t}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||r)&&s.in()}}let Ue=!1,He=[];function Gn(){Ue=!1;const e=He.slice();He=[],Le(e)}function zn(e){Ue||(Ue=!0,queueMicrotask(Gn)),He.push(e)}function Qn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ke=!1,Ie=!1,Ce=null,ce=!1,tr=!1;function _r(e){ce=e}function dr(e){tr=e}let Ke=[],ye=0;let S=null;function re(e){S=e}let E=null;function K(e){E=e}let H=null;function Xn(e){H=e}let R=null,L=0,J=null;function Jn(e){J=e}let Zr=1,te=!1,k=null;function Gr(){return++Zr}function lr(){return!de||k!==null&&k.l===null}function Se(e){var v,h;var r=e.f;if(r&j)return!0;if(r&Ae){var n=e.deps,t=(r&ue)!==0;if(n!==null){var l;if(r&Oe){for(l=0;l<n.length;l++)((v=n[l]).reactions??(v.reactions=[])).push(e);e.f^=Oe}for(l=0;l<n.length;l++){var s=n[l];if(Se(s)&&Pr(s),t&&E!==null&&!te&&!((h=s==null?void 0:s.reactions)!=null&&h.includes(e))&&(s.reactions??(s.reactions=[])).push(e),s.version>e.version)return!0}}(!t||E!==null&&!te)&&Y(e,P)}return!1}function jn(e,r){for(var n=r;n!==null;){if(n.f&qe)try{n.fn(e);return}catch{n.f^=qe}n=n.parent}throw ke=!1,e}function et(e){return(e.f&_e)===0&&(e.parent===null||(e.parent.f&qe)===0)}function Re(e,r,n,t){if(ke){if(n===null&&(ke=!1),et(r))throw e;return}n!==null&&(ke=!0);{jn(e,r);return}}function zr(e){var d;var r=R,n=L,t=J,l=S,s=te,v=H,h=k,c=e.f;R=null,L=0,J=null,S=c&($|xe)?null:e,te=!ce&&(c&ue)!==0,H=null,k=e.ctx;try{var o=(0,e.fn)(),_=e.deps;if(R!==null){var a;if(we(e,L),_!==null&&L>0)for(_.length=L+R.length,a=0;a<R.length;a++)_[L+a]=R[a];else e.deps=_=R;if(!te)for(a=L;a<_.length;a++)((d=_[a]).reactions??(d.reactions=[])).push(e)}else _!==null&&L<_.length&&(we(e,L),_.length=L);return o}finally{R=r,L=n,J=t,S=l,te=s,H=v,k=h}}function rt(e,r){let n=r.reactions;if(n!==null){var t=n.indexOf(e);if(t!==-1){var l=n.length-1;l===0?n=r.reactions=null:(n[t]=n[l],n.pop())}}n===null&&r.f&V&&(R===null||!R.includes(r))&&(Y(r,Ae),r.f&(ue|Oe)||(r.f^=Oe),we(r,0))}function we(e,r){var n=e.deps;if(n!==null)for(var t=r;t<n.length;t++)rt(e,n[t])}function Pe(e){var r=e.f;if(!(r&_e)){Y(e,P);var n=E,t=k;E=e;try{r&Xe?Zn(e):$r(e),Vr(e),Fr(e);var l=zr(e);e.teardown=typeof l=="function"?l:null,e.version=Zr}catch(s){Re(s,e,n,t||e.ctx)}finally{E=n}}}function nt(){if(ye>1e3){ye=0;try{En()}catch(e){if(Ce!==null)Re(e,Ce,null);else throw e}}ye++}function tt(e){var r=e.length;if(r!==0){nt();var n=ce;ce=!0;try{for(var t=0;t<r;t++){var l=e[t];l.f&P||(l.f^=P);var s=[];Qr(l,s),lt(s)}}finally{ce=n}}}function lt(e){var r=e.length;if(r!==0)for(var n=0;n<r;n++){var t=e[n];if(!(t.f&(_e|U)))try{Se(t)&&(Pe(t),t.deps===null&&t.first===null&&t.nodes_start===null&&(t.teardown===null?Ur(t):t.fn=null))}catch(l){Re(l,t,null,t.ctx)}}}function ut(){if(Ie=!1,ye>1001)return;const e=Ke;Ke=[],tt(e),Ie||(ye=0,Ce=null)}function Me(e){Ie||(Ie=!0,queueMicrotask(ut)),Ce=e;for(var r=e;r.parent!==null;){r=r.parent;var n=r.f;if(n&(xe|$)){if(!(n&P))return;r.f^=P}}Ke.push(r)}function Qr(e,r){var n=e.first,t=[];e:for(;n!==null;){var l=n.f,s=(l&$)!==0,v=s&&(l&P)!==0,h=n.next;if(!v&&!(l&U))if(l&Ee){if(s)n.f^=P;else try{Se(n)&&Pe(n)}catch(a){Re(a,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}else l&xr&&t.push(n);if(h===null){let a=n.parent;for(;a!==null;){if(e===a)break e;var o=a.next;if(o!==null){n=o;continue e}a=a.parent}}n=h}for(var _=0;_<t.length;_++)c=t[_],r.push(c),Qr(c,r)}function m(e){var _;var r=e.f,n=(r&V)!==0;if(n&&r&_e){var t=Rr(e);return er(e),t}if(S!==null){H!==null&&H.includes(e)&&Tn();var l=S.deps;R===null&&l!==null&&l[L]===e?L++:R===null?R=[e]:R.push(e),J!==null&&E!==null&&E.f&P&&!(E.f&$)&&J.includes(e)&&(Y(E,j),Me(E))}else if(n&&e.deps===null)for(var s=e,v=s.parent,h=s;v!==null;)if(v.f&V){var c=v;h=c,v=c.parent}else{var o=v;(_=o.deriveds)!=null&&_.includes(h)||(o.deriveds??(o.deriveds=[])).push(h);break}return n&&(s=e,Se(s)&&Pr(s)),e.v}function me(e){const r=S;try{return S=null,e()}finally{S=r}}const st=~(j|Ae|P);function Y(e,r){e.f=e.f&st|r}function Xr(e,r=!1,n){k={p:k,c:null,e:null,m:!1,s:e,x:null,l:null},de&&!r&&(k.l={s:null,u:null,r1:[],r2:F(!1)})}function Jr(e){const r=k;if(r!==null){e!==void 0&&(r.x=e);const v=r.e;if(v!==null){var n=E,t=S;r.e=null;try{for(var l=0;l<v.length;l++){var s=v[l];K(s.effect),re(s.reaction),Lr(s.fn)}}finally{K(n),re(t)}}k=r.p,r.m=!0}return e||{}}function ft(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ae in e)Ye(e);else if(!Array.isArray(e))for(let r in e){const n=e[r];typeof n=="object"&&n&&ae in n&&Ye(n)}}}function Ye(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let t in e)try{Ye(e[t],r)}catch{}const n=Er(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const t=on(n);for(let l in t){const s=t[l].get;if(s)try{s.call(e)}catch{}}}}}const it=["touchstart","touchmove"];function ot(e){return it.includes(e)}function at(e){var r=S,n=E;re(null),K(null);try{return e()}finally{re(r),K(n)}}const ct=new Set,hr=new Set;function vt(e,r,n,t){function l(s){if(t.capture||pe.call(r,s),!s.cancelBubble)return at(()=>n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zn(()=>{r.addEventListener(e,l,t)}):r.addEventListener(e,l,t),l}function We(e,r,n,t,l){var s={capture:t,passive:l},v=vt(e,r,n,s);(r===document.body||r===window||r===document)&&Br(()=>{r.removeEventListener(e,v,s)})}function pe(e){var x;var r=this,n=r.ownerDocument,t=e.type,l=((x=e.composedPath)==null?void 0:x.call(e))||[],s=l[0]||e.target,v=0,h=e.__root;if(h){var c=l.indexOf(h);if(c!==-1&&(r===document||r===window)){e.__root=r;return}var o=l.indexOf(r);if(o===-1)return;c<=o&&(v=c)}if(s=l[v]||e.target,s!==r){fn(e,"currentTarget",{configurable:!0,get(){return s||n}});var _=S,a=E;re(null),K(null);try{for(var d,p=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var A=s["__"+t];if(A!==void 0&&!s.disabled)if(ze(A)){var[O,...C]=A;O.apply(s,[e,...C])}else A.call(s,e)}catch(b){d?p.push(b):d=b}if(e.cancelBubble||y===r||y===null)break;s=y}if(d){for(let b of p)queueMicrotask(()=>{throw b});throw d}}finally{e.__root=r,delete e.currentTarget,re(_),K(a)}}}function jr(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function ur(e,r){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=r)}function sr(e,r){var n=(r&Bn)!==0,t,l=!e.startsWith("<!>");return()=>{t===void 0&&(t=jr(l?e:"<!>"+e),t=ge(t));var s=n?document.importNode(t,!0):t.cloneNode(!0);return ur(s,s),s}}function en(e,r,n="svg"){var t=!e.startsWith("<!>"),l=`<${n}>${t?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var v=jr(l),h=ge(v);s=ge(h)}var c=s.cloneNode(!0);return ur(c,c),c}}function _t(){var e=document.createDocumentFragment(),r=document.createComment(""),n=Cr();return e.append(r,n),ur(r,n),e}function ve(e,r){e!==null&&e.before(r)}function Ze(e,r){var n=r==null?"":typeof r=="object"?r+"":r;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function dt(e,r){return ht(e,r)}const fe=new Map;function ht(e,{target:r,anchor:n,props:t={},events:l,context:s,intro:v=!0}){qn();var h=new Set,c=a=>{for(var d=0;d<a.length;d++){var p=a[d];if(!h.has(p)){h.add(p);var y=ot(p);r.addEventListener(p,pe,{passive:y});var A=fe.get(p);A===void 0?(document.addEventListener(p,pe,{passive:y}),fe.set(p,1)):fe.set(p,A+1)}}};c(Qe(ct)),hr.add(c);var o=void 0,_=Yn(()=>{var a=n??r.appendChild(Cr());return rr(()=>{if(s){Xr({});var d=k;d.c=s}l&&(t.$$events=l),o=e(a,t)||{},s&&Jr()}),()=>{var y;for(var d of h){r.removeEventListener(d,pe);var p=fe.get(d);--p===0?(document.removeEventListener(d,pe),fe.delete(d)):fe.set(d,p)}hr.delete(c),a!==n&&((y=a.parentNode)==null||y.removeChild(a))}});return pt.set(o,_),o}let pt=new WeakMap;function pr(e,r){return r}function yt(e,r,n,t){for(var l=[],s=r.length,v=0;v<s;v++)nr(r[v].e,l,!0);var h=s>0&&l.length===0&&n!==null;if(h){var c=n.parentNode;Vn(c),c.append(n),t.clear(),X(e,r[0].prev,r[s-1].next)}Kr(l,()=>{for(var o=0;o<s;o++){var _=r[o];h||(t.delete(_.k),X(e,_.prev,_.next)),ee(_.e,!h)}})}function yr(e,r,n,t,l,s=null){var v=e,h={flags:r,items:new Map,first:null},c=null,o=!1;qr(()=>{var _=n(),a=ze(_)?_:_==null?[]:Qe(_),d=a.length;if(!(o&&d===0)){o=d===0;{var p=S;gt(a,h,v,l,r,(p.f&U)!==0,t)}s!==null&&(d===0?c?Yr(c):c=rr(()=>s(v)):c!==null&&Hr(c,()=>{c=null})),n()}})}function gt(e,r,n,t,l,s,v,h){var c=e.length,o=r.items,_=r.first,a=_,d,p=null,y=[],A=[],O,C,x,b;for(b=0;b<c;b+=1){if(O=e[b],C=v(O,b),x=o.get(C),x===void 0){var W=a?a.e.nodes_start:n;p=mt(W,r,p,p===null?r.first:p.next,O,C,b,t,l),o.set(C,p),y=[],A=[],a=p.next;continue}if(wt(x,O,b),x.e.f&U&&Yr(x.e),x!==a){if(d!==void 0&&d.has(x)){if(y.length<A.length){var N=A[0],D;p=N.prev;var Z=y[0],T=y[y.length-1];for(D=0;D<y.length;D+=1)gr(y[D],N,n);for(D=0;D<A.length;D+=1)d.delete(A[D]);X(r,Z.prev,T.next),X(r,p,Z),X(r,T,N),a=N,p=T,b-=1,y=[],A=[]}else d.delete(x),gr(x,a,n),X(r,x.prev,x.next),X(r,x,p===null?r.first:p.next),X(r,p,x),p=x;continue}for(y=[],A=[];a!==null&&a.k!==C;)(s||!(a.e.f&U))&&(d??(d=new Set)).add(a),A.push(a),a=a.next;if(a===null)continue;x=a}y.push(x),p=x,a=x.next}if(a!==null||d!==void 0){for(var M=d===void 0?[]:Qe(d);a!==null;)(s||!(a.e.f&U))&&M.push(a),a=a.next;var G=M.length;if(G>0){var Te=null;yt(r,M,Te,o)}}E.first=r.first&&r.first.e,E.last=p&&p.e}function wt(e,r,n,t){br(e.v,r),e.i=n}function mt(e,r,n,t,l,s,v,h,c,o){var _=(c&On)!==0,a=(c&In)===0,d=_?a?je(l):F(l):l,p=c&Nn?F(v):v,y={i:p,v:d,k:s,a:null,e:null,prev:n,next:t};try{return y.e=rr(()=>h(e,d,p),Or),y.e.prev=n&&n.e,y.e.next=t&&t.e,n===null?r.first=y:(n.next=y,n.e.next=y.e),t!==null&&(t.prev=y,t.e.prev=y.e),y}finally{}}function gr(e,r,n){for(var t=e.next?e.next.e.nodes_start:n,l=r?r.e.nodes_start:n,s=e.e.nodes_start;s!==t;){var v=De(s);l.before(s),s=v}}function X(e,r,n){r===null?e.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}function Ge(e,r,n){var t=e.__className,l=Et(r);(t!==l||Or)&&(r==null&&!n?e.removeAttribute("class"):e.className=l,e.__className=l)}function Et(e,r){return(e??"")+""}function xt(e,r,n){var t=le(e,r);t&&t.set&&(e[r]=n,Br(()=>{e[r]=null}))}function At(e=!1){const r=k,n=r.l.u;if(!n)return;let t=()=>ft(r.s);if(e){let l=0,s={};const v=Ne(()=>{let h=!1;const c=r.s;for(const o in c)c[o]!==s[o]&&(s[o]=c[o],h=!0);return h&&l++,l});t=()=>m(v)}n.b.length&&Kn(()=>{wr(r,t),Le(n.b)}),Ve(()=>{const l=me(()=>n.m.map(vn));return()=>{for(const s of l)typeof s=="function"&&s()}}),n.a.length&&Ve(()=>{wr(r,t),Le(n.a)})}function wr(e,r){if(e.l.s)for(const n of e.l.s)m(n);r()}let be=!1;function St(e){var r=be;try{return be=!1,[e(),be]}finally{be=r}}function mr(e){for(var r=E,n=E;r!==null&&!(r.f&($|xe));)r=r.parent;try{return K(r),e()}finally{K(n)}}function Be(e,r,n,t){var Z;var l=(n&Cn)!==0,s=!de||(n&Dn)!==0,v=(n&Pn)!==0,h=(n&Mn)!==0,c=!1,o;v?[o,c]=St(()=>e[r]):o=e[r];var _=ae in e||pn in e,a=((Z=le(e,r))==null?void 0:Z.set)??(_&&v&&r in e?T=>e[r]=T:void 0),d=t,p=!0,y=!1,A=()=>(y=!0,p&&(p=!1,h?d=me(t):d=t),d);o===void 0&&t!==void 0&&(a&&s&&xn(),o=A(),a&&a(o));var O;if(s)O=()=>{var T=e[r];return T===void 0?A():(p=!0,y=!1,T)};else{var C=mr(()=>(l?Ne:$n)(()=>e[r]));C.f|=dn,O=()=>{var T=m(C);return T!==void 0&&(d=void 0),T===void 0?d:T}}if(!(n&Rn))return O;if(a){var x=e.$$legacy;return function(T,M){return arguments.length>0?((!s||!M||x||c)&&a(M?O():T),T):O()}}var b=!1,W=!1,N=je(o),D=mr(()=>Ne(()=>{var T=O(),M=m(N);return b?(b=!1,W=!0,M):(W=!1,N.v=T)}));return l||(D.equals=Je),function(T,M){if(arguments.length>0){const G=M?m(D):s&&v?ie(T):T;return D.equals(G)||(b=!0,I(N,G),y&&d!==void 0&&(d=G),me(()=>m(D))),T}return m(D)}}function Tt(e){k===null&&Qn(),de&&k.l!==null?bt(k).m.push(e):Ve(()=>{const r=me(e);if(typeof r=="function")return r})}function bt(e){var r=e.l;return r.u??(r.u={a:[],b:[],m:[]})}const kt="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kt);kn();var Ot=sr("<div> </div>"),Nt=sr('<div class="board svelte-1vyk1ej"><!> <div>Игра окончена!</div></div>');function It(e,r){Xr(r,!1);let n=Be(r,"score",12,0),t=Be(r,"best",12,0),l=Be(r,"ai",8,!1),s=oe(!1),v=0,h=[],c=oe();const o=4,_="best_score",a=()=>{if(h.length)for(;h.shift(););},d=i=>{h=[],I(c,i)},p=i=>btoa(String(i<<7^3735928559)),y=i=>(Number(atob(i))^3735928559)>>7,A=()=>{localStorage.setItem(_,p(t()))},O=()=>{let i=localStorage.getItem(_);t(i?y(i):0)},C=()=>{n(0),I(c,new Array);for(let i=0;i<o;++i){cr(c,m(c)[i]=new Array);for(let u=0;u<o;++u)cr(c,m(c)[i][u]=null)}T(m(c)),T(m(c)),I(s,!1),v=0,h=[]},x=(i,u)=>{for(let f=0;f<o;++f)for(let g=0;g<o;++g)if(i[f][g]!==u[f][g])return!1;return!0};Tt(()=>{O(),C(),setInterval(()=>{if(!l()||m(s))return;const i=Z(m(c));let u=Math.random();u>.75?b(i):u>.5?W(i):u>.25?N(i):D(i),!x(m(c),i)&&(T(i),I(s,!ir(i)),h=[],I(c,[...i]))},50)});const b=i=>{for(let u=0;u<o;++u)for(let f=0;f<o;++f)h.push(...M(i,u,f))},W=i=>{for(let u=o-1;u>=0;--u)for(let f=0;f<o;++f)h.push(...G(i,u,f))},N=i=>{for(let u=0;u<o;++u)for(let f=0;f<o;++f)h.push(...Te(i,f,u))},D=i=>{for(let u=o-1;u>=0;--u)for(let f=0;f<o;++f)h.push(...fr(i,f,u))},Z=i=>{const u=[];for(let f=0;f<o;++f)u[f]=[...i[f]];return u},T=i=>{const u=[];for(let z=0;z<o;++z)for(let se=0;se<o;++se)i[z][se]||u.push([z,se]);if(!u.length)return!1;const f=u.length*Math.random()|0;let g=Math.random()>.9?4:2,w=u[f][0],ne=u[f][1];return i[w][ne]=g,h.push({type:"create",from:{x:w,y:ne,value:null},to:{x:w,y:ne,value:g}}),!0},M=(i,u,f,g)=>{if(!i[u][f]||u<=0)return[];g||(g={type:"move",from:{x:u,y:f,value:i[u][f]},to:{x:u,y:f,value:i[u][f]}});const w=i[u][f];return i[u-1][f]===null?(i[u][f]=null,i[u-1][f]=w,g.to={x:u-1,y:f,value:w},M(i,u-1,f,g)):i[u-1][f]===w?(i[u][f]=null,n(n()+w*2),i[u-1][f]=w*2,g.to={x:u-1,y:f,value:w},[g,{type:"upgrade",from:{x:u-1,y:f,value:w},to:{x:u-1,y:f,value:w*2}}]):[g]},G=(i,u,f,g)=>{if(!i[u][f]||u>=o-1)return[];g||(g={type:"move",from:{x:u,y:f,value:i[u][f]},to:{x:u,y:f,value:i[u][f]}});const w=i[u][f];return i[u+1][f]===null?(i[u][f]=null,i[u+1][f]=w,g.to={x:u+1,y:f,value:w},G(i,u+1,f,g)):i[u+1][f]===w?(i[u][f]=null,n(n()+w*2),i[u+1][f]=w*2,g.to={x:u+1,y:f,value:w},[g,{type:"upgrade",from:{x:u+1,y:f,value:w},to:{x:u+1,y:f,value:w*2}}]):[g]},Te=(i,u,f,g)=>{if(!i[u][f]||f<=0)return[];g||(g={type:"move",from:{x:u,y:f,value:i[u][f]},to:{x:u,y:f,value:i[u][f]}});const w=i[u][f];return i[u][f-1]===null?(i[u][f]=null,i[u][f-1]=w,g.to={x:u,y:f-1,value:w},Te(i,u,f-1,g)):i[u][f-1]===w?(i[u][f]=null,n(n()+w*2),i[u][f-1]=w*2,g.to={x:u,y:f-1,value:w},[g,{type:"upgrade",from:{x:u,y:f-1,value:w},to:{x:u,y:f-1,value:w*2}}]):[g]},fr=(i,u,f,g)=>{if(!i[u][f]||f>=o-1)return[];g||(g={type:"move",from:{x:u,y:f,value:i[u][f]},to:{x:u,y:f,value:i[u][f]}});const w=i[u][f];return i[u][f+1]===null?(i[u][f]=null,i[u][f+1]=w,g.to={x:u,y:f+1,value:w},fr(i,u,f+1,g)):i[u][f+1]===w?(i[u][f]=null,n(n()+w*2),i[u][f+1]=w*2,g.to={x:u,y:f+1,value:w},[g,{type:"upgrade",from:{x:u,y:f+1,value:w},to:{x:u,y:f+1,value:w*2}}]):[g]},rn=i=>i==="Enter"&&m(s)?(C(),!0):!1,nn=(i,u)=>{if(i==="ArrowUp"||i==="KeyW")b(u);else if(i==="ArrowDown"||i==="KeyS")W(u);else if(i==="ArrowLeft"||i==="KeyA")N(u);else if(i==="ArrowRight"||i==="KeyD")D(u);else return!1;return h=h.filter(f=>f.type!=="move"||f.type==="move"&&(f.from.x!==f.to.x||f.from.y!==f.to.y)),!0},tn=(i,u,f)=>i[u][f]===void 0?!1:i[u][f]===null||u>0&&i[u-1][f]===i[u][f]||u<o-1&&i[u+1][f]===i[u][f]||f>0&&i[u][f-1]===i[u][f]||f<o-1&&i[u][f+1]===i[u][f],ir=i=>{let u=!1;for(let f=0;f<o;++f)for(let g=0;g<o;++g)u||(u=tn(i,f,g));return u},ln=i=>{if(rn(i.code)||l())return;const u=Z(m(c));if(nn(i.code,u)){if(x(m(c),u))return;T(u),I(s,!ir(u))}v+=1,console.log("Step:",v),console.log([...h]),a(),d(u),n()>t()&&(t(n()),A())};At();var or=Nt();We("keydown",Fe,ln);var ar=q(or);yr(ar,1,()=>m(c),pr,(i,u)=>{var f=_t(),g=Fn(f);yr(g,1,()=>m(u),pr,(w,ne)=>{var z=Ot(),se=q(z);$e(()=>{Ge(z,`${`board-cell ${m(ne)?`cell-${m(ne)}`:""}`??""} svelte-1vyk1ej`),Ze(se,m(ne)??"")}),ve(w,z)}),ve(i,f)});var un=Q(ar,2);return $e(()=>Ge(un,`${`msg-container ${m(s)?"active":"hidden"}`??""} svelte-1vyk1ej`)),ve(e,or),xt(r,"resetBoard",C),Jr({resetBoard:C})}var Ct=en('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><g fill="none" stroke="#776E65" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M15.5 13a3.5 3.5 0 0 0-3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1-7 0v-1.8"></path><path d="M17.5 16a3.5 3.5 0 0 0 0-7H17"></path><path d="M19 9.3V6.5a3.5 3.5 0 0 0-7 0M6.5 16a3.5 3.5 0 0 1 0-7H7"></path><path d="M5 9.3V6.5a3.5 3.5 0 0 1 7 0v10"></path></g></svg>');function Dt(e){var r=Ct();ve(e,r)}var Rt=en('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path fill="#776E65" d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2v2a8 8 0 1 1-5.135 1.865L9 8V2H3l2.446 2.447A9.98 9.98 0 0 0 2 12"></path></svg>');function Pt(e){var r=Rt();ve(e,r)}var Mt=sr('<main class="svelte-j0us8p"><div class="title svelte-j0us8p"><div class="header svelte-j0us8p"><h1>2048</h1></div> <div class="icon-container svelte-j0us8p"><button class="icon svelte-j0us8p"><!></button> <button><!></button></div> <div class="score-container svelte-j0us8p"><section class="score svelte-j0us8p"><div class="svelte-j0us8p">Счёт</div> <div class="svelte-j0us8p"> </div></section> <section class="score svelte-j0us8p"><div class="svelte-j0us8p">Лучший</div> <div class="svelte-j0us8p"> </div></section></div></div> <!></main>');function Bt(e){let r=oe(0),n=oe(0),t=oe(!1),l=oe();const s=()=>{I(t,!m(t))};var v=Mt(),h=q(v),c=Q(q(h),2),o=q(c),_=q(o);Pt(_);var a=Q(o,2),d=q(a);Dt(d);var p=Q(c,2),y=q(p),A=Q(q(y),2),O=q(A),C=Q(y,2),x=Q(q(C),2),b=q(x),W=Q(h,2);It(W,{get score(){return m(r)},set score(N){I(r,N)},get best(){return m(n)},set best(N){I(n,N)},get resetBoard(){return m(l)},set resetBoard(N){I(l,N)},get ai(){return m(t)},set ai(N){I(t,N)},$$legacy:!0}),$e(()=>{Ge(a,`${`icon ${m(t)?"active":""}`??""} svelte-j0us8p`),Ze(O,m(r)),Ze(b,m(n))}),We("click",o,function(...N){var D;(D=m(l))==null||D.apply(this,N)}),We("click",a,s),ve(e,v)}dt(Bt,{target:document.getElementById("app")});
